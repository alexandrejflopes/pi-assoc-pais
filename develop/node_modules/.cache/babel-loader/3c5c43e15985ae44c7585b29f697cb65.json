{"ast":null,"code":"/*\r\n * file to save functions (or others, like lists) that will be reused and might be more general,\r\n * like functions to generate randoms or get the gravatar URL from an email, etc\r\n * */\n// --------------------------------------------- IMPORTS ----------------------------------------------\nimport MD5 from \"crypto-js/md5\";\nimport defaultLogoFile from \"../assets/assoc-pais-logo-default.png\";\nimport { Bounce, toast } from \"react-toastify\";\nimport { firebase_auth } from \"../firebase-config\"; // -------------------------------------------- CONSTANTS --------------------------------------------\n\nexport var deletedAtribute = \"deleted\";\nexport var validatedAtribute = \"Validated\";\nexport var blockedAtribute = \"blocked\";\nvar defaultIBAN = \"PT50 1234 4321 12345678901 72\";\nvar defaultAvatar = \"https://www.gravatar.com/avatar/00000000000000000000000000000000\";\n/*\r\n * number (starting at 0) of the column with the first new parameter\r\n * that shall be in new parameters's JSON file*/\n\nvar membersImportFileNewParametersStartIndex = 13;\nvar studentsImportFileNewParametersStartIndex = 4;\nexport var regular_role = {\n  pt_PT: \"Associado(a)\"\n};\nexport var auth_providers_names = {\n  GOOGLE: \"google.com\",\n  FACEBOOK: \"facebook.com\",\n  PASSWORD: \"password\"\n};\nvar membersCSVparamsIndexes = {\n  assoc_num_index: 0,\n  role_index: 1,\n  quotas_index: 2,\n  name_index: 3,\n  NIF_index: 4,\n  citizen_card_index: 5,\n  email_index: 6,\n  phone_index: 7,\n  job_index: 8,\n  address_index: 9,\n  zip_code_index: 10,\n  city_index: 11,\n  admin_index: 12\n};\nvar studentsCSVparamsIndexes = {\n  parent_assoc_num_index: 0,\n  parent_name_index: 1,\n  name_index: 2,\n  school_year_index: 3\n};\nvar countriesAndCodes = {\n  Portugal: \"pt_PT\"\n};\nvar currentCountry = \"Portugal\";\nvar languageCode = countriesAndCodes[currentCountry];\nvar zipCodeRegexes = {\n  pt_PT: {\n    length: 8,\n    regex: new RegExp(/\\d{4}\\-\\d{3}/)\n  }\n};\nexport var emailRegex = new RegExp(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/);\nvar notAvailableDesignation = {\n  pt_PT: \"ND\" // nao determinado/disponivel\n\n};\nexport var cargoDocKey = \"titulo\";\nexport var roleAdminPermissionDesignation = \"admin\";\nexport var assocParameters = {\n  ZIP: {\n    pt_PT: \"Código Postal\"\n  },\n  DAYS_TO_DELETE_REGISTRATION: {\n    pt_PT: \"DeleteRegistosSemPagar\"\n  },\n  DESCRIPTION: {\n    pt_PT: \"Descrição\"\n  },\n  EMAIL: {\n    pt_PT: \"Email da Associação\"\n  },\n  IBAN: {\n    pt_PT: \"IBAN\"\n  },\n  CITY: {\n    pt_PT: \"Localidade\"\n  },\n  LOGO: {\n    pt_PT: \"Logótipo\"\n  },\n  STREET: {\n    pt_PT: \"Morada\"\n  },\n  NAME: {\n    pt_PT: \"Nome da Associação de Pais\"\n  },\n  FEE: {\n    pt_PT: \"Quota\"\n  },\n  PHONE: {\n    pt_PT: \"Telemóvel\"\n  }\n};\nvar newParametersTypes = {\n  TEXT: {\n    pt_PT: \"texto\"\n  },\n  INT: {\n    pt_PT: \"inteiro\"\n  },\n  FLOAT: {\n    pt_PT: \"decimal\"\n  }\n};\nvar newParametersInputTypes = {\n  TEXT: {\n    type: \"text\",\n    step: null\n  },\n  INT: {\n    type: \"number\",\n    step: \"1\"\n  },\n  FLOAT: {\n    type: \"number\",\n    step: \"0.1\"\n  }\n};\nvar newParametersEntities = {\n  parent: {\n    pt_PT: \"EE\"\n  },\n  student: {\n    pt_PT: \"aluno\"\n  }\n};\nexport var membersDesignation = {\n  pt_PT: \"Membros\"\n};\nexport var membersChildrenDesignation = {\n  pt_PT: \"Alunos\"\n};\nexport var assocDataZipName = {\n  pt_PT: \"Assoc_Pais_Info\"\n};\nvar parentsParameters = {\n  ASSOC_NUMBER: {\n    pt_PT: \"Número de Sócio\"\n  },\n  ROLE: {\n    pt_PT: \"Cargo\"\n  },\n  PAYED_FEE: {\n    pt_PT: \"Quotas pagas\"\n  },\n  NAME: {\n    pt_PT: \"Nome\"\n  },\n  NIF: {\n    pt_PT: \"NIF\"\n  },\n  CC: {\n    pt_PT: \"Cartão Cidadão\"\n  },\n  EMAIL: {\n    pt_PT: \"Email\"\n  },\n  PHONE: {\n    pt_PT: \"Telemóvel\"\n  },\n  JOB: {\n    pt_PT: \"Profissão\"\n  },\n  STREET: {\n    pt_PT: \"Morada\"\n  },\n  ZIPCODE: {\n    pt_PT: \"Código Postal\"\n  },\n  CITY: {\n    pt_PT: \"Localidade\"\n  },\n  ADMIN: {\n    pt_PT: \"Admin\"\n  },\n  // other fields (not in the CSVs)\n  CHILDREN: {\n    pt_PT: \"Educandos\"\n  },\n  PHOTO: {\n    pt_PT: \"photo\"\n  },\n  REGISTER_DATE: {\n    pt_PT: \"Data inscricao\"\n  },\n  FEES: {\n    pt_PT: \"Cotas\"\n  }\n};\nvar studentsParameters = {\n  PARENT_ASSOC_NUMBER: {\n    pt_PT: \"Número de Sócio EE\"\n  },\n  PARENT_NAME: {\n    pt_PT: \"Encarregado de Educação\"\n  },\n  NAME: {\n    pt_PT: \"Nome\"\n  },\n  SCHOOL_YEAR: {\n    pt_PT: \"Ano\" // (ensino regular)\n\n  },\n  // others\n  PHOTO: {\n    pt_PT: \"Foto\" // (ensino regular)\n\n  }\n};\nexport var toastTypes = {\n  // warning, success, error, info, default, dark\n  WARNING: \"warning\",\n  SUCCESS: \"success\",\n  ERROR: \"error\",\n  INFO: \"info\",\n  DEFAULT: \"default\",\n  DARK: \"dark\"\n}; // ---------------------------------------------- BUTTON TITLES ---------------------------------------------\n\nexport var cleanButton = {\n  pt_PT: \"Limpar\"\n};\nexport var closeButton = {\n  pt_PT: \"Fechar\"\n};\nexport var cancelButton = {\n  pt_PT: \"Cancelar\"\n};\nexport var saveButton = {\n  pt_PT: \"Gravar\"\n};\nexport var newCaseButton = {\n  pt_PT: \"Abrir um novo caso\"\n};\nexport var showArquivedCases = {\n  pt_PT: \"Mostrar casos arquivados\"\n};\nexport var casesLoading = {\n  pt_PT: \"A obter casos...\"\n};\nexport var approvalPageLoading = {\n  pt_PT: \"A obter pedidos...\"\n};\nexport var formFeedback = {\n  pt_PT: \"Por favor, preencha este campo\"\n};\nexport var studentName = {\n  pt_PT: \"Nome Aluno\"\n};\nexport var studentYear = {\n  pt_PT: \"Ano Escolaridade\"\n};\nexport var cargosSemCargo = {\n  pt_PT: \"Sem Cargo\"\n};\nexport var cargosSemMudanca = {\n  pt_PT: \"Sem Mudança\"\n};\nexport var newCargoTransactionButton = {\n  pt_PT: \"Iniciar mudança de cargos\"\n};\nexport var seeMoreButton = {\n  pt_PT: \"Ver mais\"\n};\nexport var newCargosTitle = {\n  pt_PT: \"Nova Transição de Cargos\"\n};\nexport var newCargosHeaderName = {\n  pt_PT: \"Nome\"\n};\nexport var newCargosHeaderEmail = {\n  pt_PT: \"Email\"\n};\nexport var newCargosHeaderCargoAtual = {\n  pt_PT: \"Cargo Atual\"\n};\nexport var newCargosHeaderNovoCargo = {\n  pt_PT: \"Novo Cargo\"\n}; // ---------------------------------------------- OBJECTS ---------------------------------------------\n// ---------------------------------------------- FUNCTIONS ---------------------------------------------\n\n/* hash the email with MD5 to implement Gravatar */\n\nfunction getGravatarURL(email) {\n  var emailProcessed = email.trim().toLowerCase();\n  var hashedEmail = MD5(emailProcessed); // email hash with lowercase with MD5\n\n  return \"https://www.gravatar.com/avatar/\" + hashedEmail + \"?d=mp\"; // default avatar when there's no one for that email\n}\n\nfunction getRandomInteger(min, max) {\n  return Math.floor(Math.random() * (max - min)) + min;\n}\n\nfunction showToast(message, duration, type) {\n  // type: warning, success, error, info, default\n  toast.configure();\n  toast(message, {\n    transition: Bounce,\n    closeButton: true,\n    autoClose: duration,\n    position: \"top-right\",\n    type: type\n  });\n}\n\nfunction updateFirebaseUserPhoto(photo_url) {\n  var firebaseUser = firebase_auth.currentUser;\n  return firebaseUser.updateProfile({\n    photoURL: photo_url\n  });\n}\n\nfunction updateFirebaseUserDisplayName(newName) {\n  var firebaseUser = firebase_auth.currentUser;\n  return firebaseUser.updateProfile({\n    displayName: newName\n  });\n}\n\nfunction updateFirebaseUserDisplayNameAndPhoto(newName, photo_url) {\n  var firebaseUser = firebase_auth.currentUser;\n  return firebaseUser.updateProfile({\n    displayName: newName,\n    photoURL: photo_url\n  });\n} // --------------------------------------------- EXPORTS ----------------------------------------------\n\n\nexport { getGravatarURL, defaultLogoFile, defaultIBAN, getRandomInteger, languageCode, newParametersTypes, newParametersEntities, membersImportFileNewParametersStartIndex, studentsImportFileNewParametersStartIndex, membersCSVparamsIndexes, studentsCSVparamsIndexes, parentsParameters, studentsParameters, notAvailableDesignation, zipCodeRegexes, defaultAvatar, newParametersInputTypes, showToast };","map":{"version":3,"sources":["C:/Users/User/Desktop/Ambiente de Trabalho/Universidade/Ano 3/Semestre 2/PI/Projeto/repos/pi-assoc-pais/develop/src/utils/general_utils.js"],"names":["MD5","defaultLogoFile","Bounce","toast","firebase_auth","deletedAtribute","validatedAtribute","blockedAtribute","defaultIBAN","defaultAvatar","membersImportFileNewParametersStartIndex","studentsImportFileNewParametersStartIndex","regular_role","pt_PT","auth_providers_names","GOOGLE","FACEBOOK","PASSWORD","membersCSVparamsIndexes","assoc_num_index","role_index","quotas_index","name_index","NIF_index","citizen_card_index","email_index","phone_index","job_index","address_index","zip_code_index","city_index","admin_index","studentsCSVparamsIndexes","parent_assoc_num_index","parent_name_index","school_year_index","countriesAndCodes","Portugal","currentCountry","languageCode","zipCodeRegexes","length","regex","RegExp","emailRegex","notAvailableDesignation","cargoDocKey","roleAdminPermissionDesignation","assocParameters","ZIP","DAYS_TO_DELETE_REGISTRATION","DESCRIPTION","EMAIL","IBAN","CITY","LOGO","STREET","NAME","FEE","PHONE","newParametersTypes","TEXT","INT","FLOAT","newParametersInputTypes","type","step","newParametersEntities","parent","student","membersDesignation","membersChildrenDesignation","assocDataZipName","parentsParameters","ASSOC_NUMBER","ROLE","PAYED_FEE","NIF","CC","JOB","ZIPCODE","ADMIN","CHILDREN","PHOTO","REGISTER_DATE","FEES","studentsParameters","PARENT_ASSOC_NUMBER","PARENT_NAME","SCHOOL_YEAR","toastTypes","WARNING","SUCCESS","ERROR","INFO","DEFAULT","DARK","cleanButton","closeButton","cancelButton","saveButton","newCaseButton","showArquivedCases","casesLoading","approvalPageLoading","formFeedback","studentName","studentYear","cargosSemCargo","cargosSemMudanca","newCargoTransactionButton","seeMoreButton","newCargosTitle","newCargosHeaderName","newCargosHeaderEmail","newCargosHeaderCargoAtual","newCargosHeaderNovoCargo","getGravatarURL","email","emailProcessed","trim","toLowerCase","hashedEmail","getRandomInteger","min","max","Math","floor","random","showToast","message","duration","configure","transition","autoClose","position","updateFirebaseUserPhoto","photo_url","firebaseUser","currentUser","updateProfile","photoURL","updateFirebaseUserDisplayName","newName","displayName","updateFirebaseUserDisplayNameAndPhoto"],"mappings":"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","sourcesContent":["/*\r\n * file to save functions (or others, like lists) that will be reused and might be more general,\r\n * like functions to generate randoms or get the gravatar URL from an email, etc\r\n * */\r\n\r\n// --------------------------------------------- IMPORTS ----------------------------------------------\r\nimport MD5 from \"crypto-js/md5\";\r\nimport defaultLogoFile from \"../assets/assoc-pais-logo-default.png\";\r\nimport { Bounce, toast } from \"react-toastify\";\r\nimport { firebase_auth } from \"../firebase-config\";\r\n\r\n// -------------------------------------------- CONSTANTS --------------------------------------------\r\n\r\nexport const deletedAtribute = \"deleted\";\r\nexport const validatedAtribute = \"Validated\";\r\nexport const blockedAtribute = \"blocked\";\r\n\r\nconst defaultIBAN = \"PT50 1234 4321 12345678901 72\";\r\nconst defaultAvatar =\r\n  \"https://www.gravatar.com/avatar/00000000000000000000000000000000\";\r\n/*\r\n * number (starting at 0) of the column with the first new parameter\r\n * that shall be in new parameters's JSON file*/\r\nconst membersImportFileNewParametersStartIndex = 13;\r\nconst studentsImportFileNewParametersStartIndex = 4;\r\n\r\nexport const regular_role = {\r\n  pt_PT: \"Associado(a)\",\r\n};\r\n\r\nexport const auth_providers_names = {\r\n  GOOGLE: \"google.com\",\r\n  FACEBOOK: \"facebook.com\",\r\n  PASSWORD: \"password\",\r\n};\r\n\r\nconst membersCSVparamsIndexes = {\r\n  assoc_num_index: 0,\r\n  role_index: 1,\r\n  quotas_index: 2,\r\n  name_index: 3,\r\n  NIF_index: 4,\r\n  citizen_card_index: 5,\r\n  email_index: 6,\r\n  phone_index: 7,\r\n  job_index: 8,\r\n  address_index: 9,\r\n  zip_code_index: 10,\r\n  city_index: 11,\r\n  admin_index: 12,\r\n};\r\n\r\nconst studentsCSVparamsIndexes = {\r\n  parent_assoc_num_index: 0,\r\n  parent_name_index: 1,\r\n  name_index: 2,\r\n  school_year_index: 3,\r\n};\r\n\r\nconst countriesAndCodes = {\r\n  Portugal: \"pt_PT\",\r\n};\r\n\r\nlet currentCountry = \"Portugal\";\r\n\r\nconst languageCode = countriesAndCodes[currentCountry];\r\n\r\nconst zipCodeRegexes = {\r\n  pt_PT: {\r\n    length: 8,\r\n    regex: new RegExp(/\\d{4}\\-\\d{3}/),\r\n  },\r\n};\r\n\r\nexport const emailRegex = new RegExp(\r\n  /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/\r\n);\r\n\r\nconst notAvailableDesignation = {\r\n  pt_PT: \"ND\", // nao determinado/disponivel\r\n};\r\n\r\nexport const cargoDocKey = \"titulo\";\r\nexport const roleAdminPermissionDesignation = \"admin\";\r\n\r\nexport const assocParameters = {\r\n  ZIP: {\r\n    pt_PT: \"Código Postal\",\r\n  },\r\n  DAYS_TO_DELETE_REGISTRATION: {\r\n    pt_PT: \"DeleteRegistosSemPagar\",\r\n  },\r\n  DESCRIPTION: {\r\n    pt_PT: \"Descrição\",\r\n  },\r\n  EMAIL: {\r\n    pt_PT: \"Email da Associação\",\r\n  },\r\n  IBAN: {\r\n    pt_PT: \"IBAN\",\r\n  },\r\n  CITY: {\r\n    pt_PT: \"Localidade\",\r\n  },\r\n  LOGO: {\r\n    pt_PT: \"Logótipo\",\r\n  },\r\n  STREET: {\r\n    pt_PT: \"Morada\",\r\n  },\r\n  NAME: {\r\n    pt_PT: \"Nome da Associação de Pais\",\r\n  },\r\n  FEE: {\r\n    pt_PT: \"Quota\",\r\n  },\r\n  PHONE: {\r\n    pt_PT: \"Telemóvel\",\r\n  },\r\n};\r\n\r\nconst newParametersTypes = {\r\n  TEXT: {\r\n    pt_PT: \"texto\",\r\n  },\r\n  INT: {\r\n    pt_PT: \"inteiro\",\r\n  },\r\n  FLOAT: {\r\n    pt_PT: \"decimal\",\r\n  },\r\n};\r\n\r\nconst newParametersInputTypes = {\r\n  TEXT: {\r\n    type: \"text\",\r\n    step: null,\r\n  },\r\n  INT: {\r\n    type: \"number\",\r\n    step: \"1\",\r\n  },\r\n  FLOAT: {\r\n    type: \"number\",\r\n    step: \"0.1\",\r\n  },\r\n};\r\n\r\nconst newParametersEntities = {\r\n  parent: {\r\n    pt_PT: \"EE\",\r\n  },\r\n  student: {\r\n    pt_PT: \"aluno\",\r\n  },\r\n};\r\n\r\nexport const membersDesignation = {\r\n  pt_PT: \"Membros\",\r\n};\r\n\r\nexport const membersChildrenDesignation = {\r\n  pt_PT: \"Alunos\",\r\n};\r\n\r\nexport const assocDataZipName = {\r\n  pt_PT: \"Assoc_Pais_Info\",\r\n};\r\n\r\nconst parentsParameters = {\r\n  ASSOC_NUMBER: {\r\n    pt_PT: \"Número de Sócio\",\r\n  },\r\n  ROLE: {\r\n    pt_PT: \"Cargo\",\r\n  },\r\n  PAYED_FEE: {\r\n    pt_PT: \"Quotas pagas\",\r\n  },\r\n  NAME: {\r\n    pt_PT: \"Nome\",\r\n  },\r\n  NIF: {\r\n    pt_PT: \"NIF\",\r\n  },\r\n  CC: {\r\n    pt_PT: \"Cartão Cidadão\",\r\n  },\r\n  EMAIL: {\r\n    pt_PT: \"Email\",\r\n  },\r\n  PHONE: {\r\n    pt_PT: \"Telemóvel\",\r\n  },\r\n  JOB: {\r\n    pt_PT: \"Profissão\",\r\n  },\r\n  STREET: {\r\n    pt_PT: \"Morada\",\r\n  },\r\n  ZIPCODE: {\r\n    pt_PT: \"Código Postal\",\r\n  },\r\n  CITY: {\r\n    pt_PT: \"Localidade\",\r\n  },\r\n  ADMIN: {\r\n    pt_PT: \"Admin\",\r\n  },\r\n  // other fields (not in the CSVs)\r\n  CHILDREN: {\r\n    pt_PT: \"Educandos\",\r\n  },\r\n  PHOTO: {\r\n    pt_PT: \"photo\",\r\n  },\r\n  REGISTER_DATE: {\r\n    pt_PT: \"Data inscricao\",\r\n  },\r\n  FEES: {\r\n    pt_PT: \"Cotas\",\r\n  },\r\n};\r\n\r\nconst studentsParameters = {\r\n  PARENT_ASSOC_NUMBER: {\r\n    pt_PT: \"Número de Sócio EE\",\r\n  },\r\n  PARENT_NAME: {\r\n    pt_PT: \"Encarregado de Educação\",\r\n  },\r\n  NAME: {\r\n    pt_PT: \"Nome\",\r\n  },\r\n  SCHOOL_YEAR: {\r\n    pt_PT: \"Ano\", // (ensino regular)\r\n  },\r\n  // others\r\n  PHOTO: {\r\n    pt_PT: \"Foto\", // (ensino regular)\r\n  },\r\n};\r\n\r\nexport const toastTypes = {\r\n  // warning, success, error, info, default, dark\r\n  WARNING: \"warning\",\r\n  SUCCESS: \"success\",\r\n  ERROR: \"error\",\r\n  INFO: \"info\",\r\n  DEFAULT: \"default\",\r\n  DARK: \"dark\",\r\n};\r\n\r\n// ---------------------------------------------- BUTTON TITLES ---------------------------------------------\r\n\r\nexport const cleanButton = {\r\n  pt_PT: \"Limpar\",\r\n};\r\n\r\nexport const closeButton = {\r\n  pt_PT: \"Fechar\",\r\n};\r\n\r\nexport const cancelButton = {\r\n  pt_PT: \"Cancelar\",\r\n};\r\n\r\nexport const saveButton = {\r\n  pt_PT: \"Gravar\",\r\n};\r\n\r\nexport const newCaseButton = {\r\n  pt_PT: \"Abrir um novo caso\",\r\n};\r\n\r\nexport const showArquivedCases = {\r\n  pt_PT: \"Mostrar casos arquivados\",\r\n};\r\n\r\nexport const casesLoading = {\r\n  pt_PT: \"A obter casos...\",\r\n};\r\n\r\nexport const approvalPageLoading = {\r\n  pt_PT: \"A obter pedidos...\",\r\n};\r\n\r\nexport const formFeedback = {\r\n  pt_PT: \"Por favor, preencha este campo\",\r\n};\r\n\r\nexport const studentName = {\r\n  pt_PT: \"Nome Aluno\",\r\n};\r\n\r\nexport const studentYear = {\r\n  pt_PT: \"Ano Escolaridade\",\r\n};\r\n\r\nexport const cargosSemCargo = {\r\n  pt_PT: \"Sem Cargo\",\r\n};\r\n\r\nexport const cargosSemMudanca = {\r\n  pt_PT: \"Sem Mudança\",\r\n};\r\n\r\nexport const newCargoTransactionButton = {\r\n  pt_PT: \"Iniciar mudança de cargos\",\r\n};\r\n\r\nexport const seeMoreButton = {\r\n  pt_PT: \"Ver mais\",\r\n};\r\n\r\nexport const newCargosTitle = {\r\n  pt_PT: \"Nova Transição de Cargos\",\r\n};\r\n\r\nexport const newCargosHeaderName = {\r\n  pt_PT: \"Nome\",\r\n};\r\n\r\nexport const newCargosHeaderEmail = {\r\n  pt_PT: \"Email\",\r\n};\r\n\r\nexport const newCargosHeaderCargoAtual = {\r\n  pt_PT: \"Cargo Atual\",\r\n};\r\n\r\nexport const newCargosHeaderNovoCargo = {\r\n  pt_PT: \"Novo Cargo\",\r\n};\r\n\r\n// ---------------------------------------------- OBJECTS ---------------------------------------------\r\n\r\n// ---------------------------------------------- FUNCTIONS ---------------------------------------------\r\n\r\n/* hash the email with MD5 to implement Gravatar */\r\nfunction getGravatarURL(email) {\r\n  const emailProcessed = email.trim().toLowerCase();\r\n  const hashedEmail = MD5(emailProcessed); // email hash with lowercase with MD5\r\n  return \"https://www.gravatar.com/avatar/\" + hashedEmail + \"?d=mp\"; // default avatar when there's no one for that email\r\n}\r\n\r\nfunction getRandomInteger(min, max) {\r\n  return Math.floor(Math.random() * (max - min)) + min;\r\n}\r\n\r\nfunction showToast(message, duration, type) {\r\n  // type: warning, success, error, info, default\r\n  toast.configure();\r\n  toast(message, {\r\n    transition: Bounce,\r\n    closeButton: true,\r\n    autoClose: duration,\r\n    position: \"top-right\",\r\n    type: type,\r\n  });\r\n}\r\n\r\nfunction updateFirebaseUserPhoto(photo_url) {\r\n  const firebaseUser = firebase_auth.currentUser;\r\n  return firebaseUser.updateProfile({\r\n    photoURL: photo_url,\r\n  });\r\n}\r\n\r\nfunction updateFirebaseUserDisplayName(newName) {\r\n  const firebaseUser = firebase_auth.currentUser;\r\n  return firebaseUser.updateProfile({\r\n    displayName: newName,\r\n  });\r\n}\r\n\r\nfunction updateFirebaseUserDisplayNameAndPhoto(newName, photo_url) {\r\n  const firebaseUser = firebase_auth.currentUser;\r\n  return firebaseUser.updateProfile({\r\n    displayName: newName,\r\n    photoURL: photo_url,\r\n  });\r\n}\r\n\r\n// --------------------------------------------- EXPORTS ----------------------------------------------\r\n\r\nexport {\r\n  getGravatarURL,\r\n  defaultLogoFile,\r\n  defaultIBAN,\r\n  getRandomInteger,\r\n  languageCode,\r\n  newParametersTypes,\r\n  newParametersEntities,\r\n  membersImportFileNewParametersStartIndex,\r\n  studentsImportFileNewParametersStartIndex,\r\n  membersCSVparamsIndexes,\r\n  studentsCSVparamsIndexes,\r\n  parentsParameters,\r\n  studentsParameters,\r\n  notAvailableDesignation,\r\n  zipCodeRegexes,\r\n  defaultAvatar,\r\n  newParametersInputTypes,\r\n  showToast,\r\n};\r\n"]},"metadata":{},"sourceType":"module"}