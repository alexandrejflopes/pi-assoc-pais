{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\src\\\\components\\\\profile\\\\UserOverview.js\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Card, CardHeader, Button, ListGroup, ListGroupItem, Progress, CardBody, Row, Col, CardFooter } from \"shards-react\";\nimport ListGroupReact from \"react-bootstrap/ListGroup\";\nimport { defaultAvatar, languageCode, parentsParameters, studentsParameters } from \"../../utils/general_utils\";\nimport { cancel, saveChanges, updateProfile } from \"../../utils/common_strings\";\nimport { profileMyChildren } from \"../../utils/page_titles_strings\";\nimport EducandosModal from \"./EducandosModal\";\nimport NewEducandoModal from \"./NewEducandoModal\";\nimport ParentPhotoModal from \"./ParentPhotoModal\";\n\nvar UserOverview = /*#__PURE__*/function (_React$Component) {\n  _inherits(UserOverview, _React$Component);\n\n  var _super = _createSuper(UserOverview);\n\n  function UserOverview(props) {\n    var _this;\n\n    _classCallCheck(this, UserOverview);\n\n    _this = _super.call(this, props); //console.log(\"overview props: \" + JSON.stringify(props));\n\n    var parent,\n        newParamsTypes = null;\n\n    if (_this.props.user != null) {\n      parent = _this.props.user;\n      newParamsTypes = _this.props.newParamsTypes;\n    }\n\n    _this.state = {\n      parent: parent,\n      newParamsTypes: newParamsTypes,\n      editingPhoto: false\n      /*educandosTeste : [\r\n        {\r\n          id: 0,\r\n          name: \"João Gomes\",\r\n          photo: defaultAvatar,\r\n          schoolYear: \"6\"\r\n        },\r\n        {\r\n          id: 1,\r\n          name: \"Laura Gomes\",\r\n          photo: defaultAvatar,\r\n          schoolYear: \"8\"\r\n        }\r\n      ]*/\n\n    };\n    _this.componentDidMount = _this.componentDidMount.bind(_assertThisInitialized(_this));\n    _this.cancelEditingPhoto = _this.cancelEditingPhoto.bind(_assertThisInitialized(_this));\n    _this.editPhoto = _this.editPhoto.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /*********************************** LIFECYCLE ***********************************/\n\n\n  _createClass(UserOverview, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount(updating) {\n      //this._isMounted = true;\n      if (updating) {\n        var localUser = JSON.parse(window.localStorage.getItem(\"userDoc\"));\n\n        if (localUser != null) {\n          this.setState({\n            parent: localUser\n          });\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n    /*********************************** HANDLERS ***********************************/\n\n  }, {\n    key: \"editPhoto\",\n    value: function editPhoto() {\n      this.setState({\n        editingPhoto: true\n      });\n      document.getElementById(\"add-photo-button\").onclick(function (e) {\n        e.preventDefault();\n        document.getElementById(\"file-upload-input\").trigger('click');\n      });\n    }\n  }, {\n    key: \"cancelEditingPhoto\",\n    value: function cancelEditingPhoto() {\n      this.setState({\n        editingPhoto: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var educandosTeste = this.state.educandosTeste;\n      var userEducandos = this.state.parent[parentsParameters.CHILDREN[languageCode]]; //console.log(\"userEducandos: \" + JSON.stringify(userEducandos));\n\n      return /*#__PURE__*/React.createElement(Card, {\n        small: true,\n        className: \"mb-4 pt-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        className: \"border-bottom text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        style: {\n          justifyContent: \"center\",\n          flexDirection: \"column\",\n          alignItems: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          width: \"110px\",\n          height: \"110px\",\n          backgroundImage: \"url(\" + this.state.parent[parentsParameters.PHOTO[languageCode]] + \")\",\n          backgroundPosition: \"center\",\n          borderRadius: \"50%\",\n          backgroundSize: \"cover\",\n          backgroundRepeat: \"no-repeat\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          margin: \"10px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(ParentPhotoModal, {\n        photo: this.state.parent[parentsParameters.PHOTO[languageCode]],\n        componentDidMount: this.componentDidMount,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"mb-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }\n      }, this.state.parent[parentsParameters.NAME[languageCode]]), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"text-muted d-block mb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }\n      }, this.state.parent[parentsParameters.EMAIL[languageCode]]), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"text-muted d-block mb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }\n      }, this.state.parent[parentsParameters.ASSOC_NUMBER[languageCode]], \" | \", this.state.parent[parentsParameters.ROLE[languageCode]])), /*#__PURE__*/React.createElement(ListGroup, {\n        flush: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(ListGroupItem, {\n        className: \"px-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        lg: \"10\",\n        md: \"10\",\n        sm: \"10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"mb-0 float-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 17\n        }\n      }, profileMyChildren[languageCode])), /*#__PURE__*/React.createElement(Col, {\n        lg: \"2\",\n        md: \"2\",\n        sm: \"2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(NewEducandoModal, {\n        newParamsTypesN: this.state.newParamsTypes,\n        componentDidMount: this.componentDidMount,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 17\n        }\n      })))), /*#__PURE__*/React.createElement(ListGroupItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }\n      }, userEducandos.length === 0 ? /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 45\n        }\n      }) : userEducandos.map(function (student, idx) {\n        return /*#__PURE__*/React.createElement(EducandosModal, {\n          key: student[studentsParameters.NAME[languageCode]],\n          educando: userEducandos[idx],\n          indice: idx,\n          newParamsTypes: _this2.state.newParamsTypes,\n          componentDidMount: _this2.componentDidMount,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 19\n          }\n        })\n        /*<Col sm=\"12\" lg=\"6\" md=\"12\">\r\n          <ListGroupReact flush style={{ textAlign: \"center\" }}>\r\n            <ListGroupReact.Item id={idx} className=\"p-3\" action onClick={()=>{}} style={{border:\"1px solid\", borderColor: \"#DFE2E4\"}}>\r\n              <div className=\"mb-3 mx-auto\">\r\n                <img\r\n                  className=\"rounded-circle\"\r\n                  src={defaultAvatar}\r\n                  alt={student[studentsParameters.NAME[languageCode]]}\r\n                  width=\"50\"\r\n                />\r\n              </div>\r\n              <h6 className=\"mb-0\">{student[studentsParameters.NAME[languageCode]]}</h6>\r\n            </ListGroupReact.Item>\r\n          </ListGroupReact>\r\n        </Col>*/\n        ;\n      })))));\n    }\n  }]);\n\n  return UserOverview;\n}(React.Component);\n\nexport default UserOverview;","map":{"version":3,"sources":["C:/Users/User/Desktop/Ambiente de Trabalho/Universidade/Ano 3/Semestre 2/PI/Projeto/repos/pi-assoc-pais/develop/src/components/profile/UserOverview.js"],"names":["React","PropTypes","Card","CardHeader","Button","ListGroup","ListGroupItem","Progress","CardBody","Row","Col","CardFooter","ListGroupReact","defaultAvatar","languageCode","parentsParameters","studentsParameters","cancel","saveChanges","updateProfile","profileMyChildren","EducandosModal","NewEducandoModal","ParentPhotoModal","UserOverview","props","parent","newParamsTypes","user","state","editingPhoto","componentDidMount","bind","cancelEditingPhoto","editPhoto","updating","localUser","JSON","parse","window","localStorage","getItem","setState","_isMounted","document","getElementById","onclick","e","preventDefault","trigger","educandosTeste","userEducandos","CHILDREN","justifyContent","flexDirection","alignItems","width","height","backgroundImage","PHOTO","backgroundPosition","borderRadius","backgroundSize","backgroundRepeat","margin","NAME","EMAIL","ASSOC_NUMBER","ROLE","length","map","student","idx","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  Card,\r\n  CardHeader,\r\n  Button,\r\n  ListGroup,\r\n  ListGroupItem,\r\n  Progress, CardBody, Row, Col, CardFooter\r\n} from \"shards-react\";\r\n\r\nimport ListGroupReact from \"react-bootstrap/ListGroup\";\r\nimport {\r\n  defaultAvatar,\r\n  languageCode,\r\n  parentsParameters, studentsParameters\r\n} from \"../../utils/general_utils\";\r\nimport {cancel, saveChanges, updateProfile} from \"../../utils/common_strings\";\r\nimport {profileMyChildren} from \"../../utils/page_titles_strings\";\r\nimport EducandosModal from \"./EducandosModal\";\r\nimport NewEducandoModal from \"./NewEducandoModal\";\r\nimport ParentPhotoModal from \"./ParentPhotoModal\";\r\n\r\nclass UserOverview extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    //console.log(\"overview props: \" + JSON.stringify(props));\r\n\r\n    let parent, newParamsTypes = null;\r\n\r\n    if(this.props.user!=null){\r\n      parent = this.props.user;\r\n      newParamsTypes = this.props.newParamsTypes;\r\n    }\r\n\r\n    this.state = {\r\n      parent : parent,\r\n      newParamsTypes : newParamsTypes,\r\n      editingPhoto : false\r\n      /*educandosTeste : [\r\n        {\r\n          id: 0,\r\n          name: \"João Gomes\",\r\n          photo: defaultAvatar,\r\n          schoolYear: \"6\"\r\n        },\r\n        {\r\n          id: 1,\r\n          name: \"Laura Gomes\",\r\n          photo: defaultAvatar,\r\n          schoolYear: \"8\"\r\n        }\r\n      ]*/\r\n    };\r\n\r\n    this.componentDidMount = this.componentDidMount.bind(this);\r\n    this.cancelEditingPhoto = this.cancelEditingPhoto.bind(this);\r\n    this.editPhoto = this.editPhoto.bind(this);\r\n  }\r\n\r\n  /*********************************** LIFECYCLE ***********************************/\r\n  componentDidMount(updating) {\r\n    //this._isMounted = true;\r\n    if(updating){\r\n      const localUser = JSON.parse(window.localStorage.getItem(\"userDoc\"));\r\n      if(localUser!=null){\r\n        this.setState({parent : localUser});\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  /*********************************** HANDLERS ***********************************/\r\n\r\n\r\n  editPhoto() {\r\n    this.setState({ editingPhoto: true });\r\n    document.getElementById(\"add-photo-button\").onclick(function(e){\r\n      e.preventDefault();\r\n      document.getElementById(\"file-upload-input\").trigger('click');\r\n    });\r\n  }\r\n\r\n\r\n  cancelEditingPhoto() {\r\n    this.setState({ editingPhoto: false });\r\n  }\r\n\r\n  render() {\r\n    const { educandosTeste } = this.state;\r\n    const userEducandos = this.state.parent[parentsParameters.CHILDREN[languageCode]];\r\n\r\n    //console.log(\"userEducandos: \" + JSON.stringify(userEducandos));\r\n\r\n    return (\r\n      <Card small className=\"mb-4 pt-3\">\r\n        <CardHeader className=\"border-bottom text-center\">\r\n          <Row style={{\r\n            justifyContent: \"center\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n          }}>\r\n            <div style={{\r\n              width : \"110px\",\r\n              height: \"110px\",\r\n              backgroundImage: \"url(\" + this.state.parent[parentsParameters.PHOTO[languageCode]] + \")\",\r\n              backgroundPosition : \"center\",\r\n              borderRadius: \"50%\",\r\n              backgroundSize: \"cover\",\r\n              backgroundRepeat: \"no-repeat\"\r\n            }}>\r\n            </div>\r\n            {/*\r\n            <img\r\n              className=\"rounded-circle\"\r\n              src={this.state.parent[parentsParameters.PHOTO[languageCode]]}\r\n              alt={this.state.parent[parentsParameters.NAME[languageCode]]}\r\n              width=\"110\"\r\n            />\r\n            */}\r\n          </Row>\r\n          <div style={{ margin: \"10px\" }} />\r\n          <ParentPhotoModal photo={this.state.parent[parentsParameters.PHOTO[languageCode]]} componentDidMount={this.componentDidMount}/>\r\n          <h4 className=\"mb-0\">{this.state.parent[parentsParameters.NAME[languageCode]]}</h4>\r\n          <span className=\"text-muted d-block mb-2\">{this.state.parent[parentsParameters.EMAIL[languageCode]]}</span>\r\n          <span className=\"text-muted d-block mb-2\">{this.state.parent[parentsParameters.ASSOC_NUMBER[languageCode]]} | {this.state.parent[parentsParameters.ROLE[languageCode]]}</span>\r\n        </CardHeader>\r\n        <ListGroup flush>\r\n          <ListGroupItem className=\"px-4\">\r\n            <Row>\r\n              <Col lg=\"10\" md=\"10\" sm=\"10\">\r\n                <h5 className=\"mb-0 float-left\">{profileMyChildren[languageCode]}</h5>\r\n              </Col>\r\n              <Col lg=\"2\" md=\"2\" sm=\"2\">\r\n                <NewEducandoModal newParamsTypesN={this.state.newParamsTypes} componentDidMount={this.componentDidMount}/>\r\n                {/*\r\n                <Button size=\"sm\" className=\"float-right\" onClick={() => {}}><span className=\"material-icons\" style={{fontSize:\"150%\", textAlign: \"center\", verticalAlign:\"middle\"}}>person_add</span></Button>\r\n                */}\r\n              </Col>\r\n            </Row>\r\n          </ListGroupItem>\r\n          <ListGroupItem>\r\n            <Row>\r\n              {userEducandos.length === 0 ? <Col/> :\r\n                userEducandos.map((student,idx) => (\r\n                  <EducandosModal key={student[studentsParameters.NAME[languageCode]]} educando={userEducandos[idx]} indice={idx} newParamsTypes={this.state.newParamsTypes} componentDidMount={this.componentDidMount}/>\r\n                  /*<Col sm=\"12\" lg=\"6\" md=\"12\">\r\n                    <ListGroupReact flush style={{ textAlign: \"center\" }}>\r\n                      <ListGroupReact.Item id={idx} className=\"p-3\" action onClick={()=>{}} style={{border:\"1px solid\", borderColor: \"#DFE2E4\"}}>\r\n                        <div className=\"mb-3 mx-auto\">\r\n                          <img\r\n                            className=\"rounded-circle\"\r\n                            src={defaultAvatar}\r\n                            alt={student[studentsParameters.NAME[languageCode]]}\r\n                            width=\"50\"\r\n                          />\r\n                        </div>\r\n                        <h6 className=\"mb-0\">{student[studentsParameters.NAME[languageCode]]}</h6>\r\n                      </ListGroupReact.Item>\r\n                    </ListGroupReact>\r\n                  </Col>*/\r\n                ))\r\n              }\r\n            </Row>\r\n          </ListGroupItem>\r\n\r\n\r\n        </ListGroup>\r\n\r\n\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default UserOverview;\r\n"]},"metadata":{},"sourceType":"module"}