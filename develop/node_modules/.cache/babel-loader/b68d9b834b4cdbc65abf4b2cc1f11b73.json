{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\src\\\\components\\\\caso-detail\\\\CasoDetailOverview.js\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Card, CardHeader, Button, ButtonGroup, ListGroup, ListGroupItem, Form, FormInput, Progress, CardBody, Row, Col, CardFooter } from \"shards-react\";\nimport { firestore, firebase_auth, firebase, firebaseConfig } from \"../../firebase-config\";\nimport { addDocError, sucessoGeral } from \"../../utils/messages_strings\";\nimport { Multiselect } from \"multiselect-react-dropdown\";\nimport ListGroupReact from \"react-bootstrap/ListGroup\";\nimport { defaultAvatar, languageCode, parentsParameters, studentsParameters, showToast, toastTypes } from \"../../utils/general_utils\";\n\nvar CasoDetailOverview = /*#__PURE__*/function (_React$Component) {\n  _inherits(CasoDetailOverview, _React$Component);\n\n  var _super = _createSuper(CasoDetailOverview);\n\n  function CasoDetailOverview(props) {\n    var _this;\n\n    _classCallCheck(this, CasoDetailOverview);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      id: props.id,\n      title: props.title,\n      data: props.data,\n      username: props.username,\n      emailAutor: props.emailAutor,\n      arquivado: props.arquivado,\n      membros: props.membros,\n      memberNames: \"\",\n      editingTitle: false,\n      titleToAdd: \"\",\n      buttonSave: \"Gravar\",\n      buttonsEditDisabled: false,\n      updatingMembers: false,\n      membersToAdd: [],\n      options: [],\n      membersComplete: [],\n      currentUser: null\n    };\n    _this.componentDidMount = _this.componentDidMount.bind(_assertThisInitialized(_this));\n    _this.editTitle = _this.editTitle.bind(_assertThisInitialized(_this));\n    _this.handleTitleToAddChange = _this.handleTitleToAddChange.bind(_assertThisInitialized(_this));\n    _this.cancelEditTitle = _this.cancelEditTitle.bind(_assertThisInitialized(_this));\n    _this.finalizeEditTitle = _this.finalizeEditTitle.bind(_assertThisInitialized(_this));\n    _this.startMembersUpdate = _this.startMembersUpdate.bind(_assertThisInitialized(_this));\n    _this.cancelUpdatingMembers = _this.cancelUpdatingMembers.bind(_assertThisInitialized(_this));\n    _this.finalizeUpdatingMembers = _this.finalizeUpdatingMembers.bind(_assertThisInitialized(_this));\n    _this.onSelectMembro = _this.onSelectMembro.bind(_assertThisInitialized(_this));\n    _this.onRemoveMembro = _this.onRemoveMembro.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /*********************************** LIFECYCLE ***********************************/\n\n\n  _createClass(CasoDetailOverview, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount(updating) {\n      this._isMounted = true;\n      var currentUser = JSON.parse(window.localStorage.getItem(\"userDoc\"));\n\n      if (currentUser != null) {\n        this.setState({\n          currentUser: currentUser\n        });\n      }\n\n      var memberNames = \"\";\n      var membros = this.state.membros;\n\n      if (membros != null) {\n        for (var i = 0; i < membros.length; i++) {\n          var membro = membros[i];\n\n          if (i == 0) {\n            memberNames += membro.nome;\n          } else {\n            memberNames += \", \" + membro.nome;\n          }\n        }\n      }\n\n      this.setState({\n        memberNames: memberNames\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: \"editTitle\",\n    value: function editTitle() {\n      var title = this.state.title;\n      this.setState({\n        editingTitle: true,\n        titleToAdd: title\n      });\n    }\n  }, {\n    key: \"handleTitleToAddChange\",\n    value: function handleTitleToAddChange(e) {\n      this.setState({\n        titleToAdd: e.target.value\n      });\n    }\n  }, {\n    key: \"cancelEditTitle\",\n    value: function cancelEditTitle() {\n      this.setState({\n        editingTitle: false,\n        titleToAdd: \"\"\n      });\n    }\n  }, {\n    key: \"finalizeEditTitle\",\n    value: function finalizeEditTitle() {\n      var _this$state = this.state,\n          titleToAdd = _this$state.titleToAdd,\n          id = _this$state.id;\n      var this_ = this;\n      this.setState({\n        buttonSave: \"A gravar...\",\n        buttonsEditDisabled: true\n      });\n      var project_id = firebaseConfig.projectId;\n      var uri = \"https://us-central1-\" + project_id + \".cloudfunctions.net/api/updateTituloCaso?\" + \"id=\" + id + \"&titulo=\" + encodeURIComponent(titleToAdd);\n\n      var request = /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return fetch(uri).then(function (resp) {\n                    return resp.json();\n                  }) // Transform the data into json\n                  .then(function (data) {\n                    if (data && data._writeTime) {\n                      showToast(sucessoGeral[languageCode], 5000, toastTypes.SUCCESS);\n                      var newTitle = titleToAdd;\n                      this_.setState({\n                        buttonSave: \"Gravar\",\n                        buttonsEditDisabled: false,\n                        title: newTitle,\n                        titleToAdd: \"\",\n                        editingTitle: false\n                      }, function () {\n                        return this_.props.updateTitle(newTitle);\n                      });\n                    } else {\n                      showToast(addDocError[languageCode], 5000, toastTypes.ERROR);\n                      this_.setState({\n                        buttonSave: \"Gravar\",\n                        buttonsEditDisabled: false\n                      });\n                    }\n                  }).catch(function (error) {\n                    console.log(error);\n                    showToast(addDocError[languageCode], 5000, toastTypes.ERROR);\n                    this_.setState({\n                      buttonSave: \"Gravar\",\n                      buttonsEditDisabled: false\n                    });\n                  });\n\n                case 2:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function request() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n\n      request();\n    }\n  }, {\n    key: \"startMembersUpdate\",\n    value: function startMembersUpdate() {\n      var _this2 = this;\n\n      var _this$state2 = this.state,\n          membros = _this$state2.membros,\n          options = _this$state2.options;\n      var currentMembers = [];\n\n      for (var i = 0; i < membros.length; i++) {\n        var membro = membros[i];\n        currentMembers.push(membro[\"id\"]);\n      }\n\n      if (options.length == 0) {\n        var parentsCollection = firestore.collection(\"parents\");\n        parentsCollection.get().then(function (querySnapshot) {\n          var membersArray = [];\n          var membersArrayComplete = [];\n          var options = [];\n          var optionsSelected = [];\n          var index = 0;\n          querySnapshot.forEach(function (doc) {\n            if (doc.data()[\"Nome\"] != undefined && doc.data()[\"Nome\"] != null) {\n              if (doc.data()[\"Validated\"] != undefined && doc.data()[\"Validated\"] != null && doc.data()[\"Validated\"].toString() != \"false\") {\n                membersArrayComplete.push({\n                  nome: doc.data()[\"Nome\"],\n                  id: doc.data()[\"Email\"],\n                  photo: doc.data()[\"photo\"]\n                });\n\n                if (currentMembers.includes(doc.data()[\"Email\"])) {\n                  optionsSelected.push({\n                    id: index,\n                    name: doc.data()[\"Nome\"]\n                  });\n                }\n\n                options.push({\n                  id: index,\n                  name: doc.data()[\"Nome\"]\n                });\n                index += 1;\n              }\n            }\n          });\n\n          if (options.length != 0) {\n            _this2.setState({\n              updatingMembers: true,\n              membersComplete: membersArrayComplete,\n              options: options,\n              membersToAdd: optionsSelected\n            });\n          } else {//No users to add\n          }\n        });\n      } else {\n        var optionsSelected = [];\n        var alreadyPut = [];\n\n        for (var i = 0; i < membros.length; i++) {\n          var membro = membros[i];\n\n          if (!alreadyPut.includes(membro[\"id\"])) {\n            optionsSelected.push({\n              id: i,\n              name: membro[\"nome\"]\n            });\n            alreadyPut.push(membro[\"id\"]);\n          }\n        }\n\n        this.setState({\n          updatingMembers: true,\n          membersToAdd: optionsSelected\n        });\n      }\n    }\n  }, {\n    key: \"cancelUpdatingMembers\",\n    value: function cancelUpdatingMembers() {\n      this.setState({\n        updatingMembers: false,\n        membersToAdd: []\n      });\n    }\n  }, {\n    key: \"finalizeUpdatingMembers\",\n    value: function finalizeUpdatingMembers() {\n      var _this$state3 = this.state,\n          membersToAdd = _this$state3.membersToAdd,\n          id = _this$state3.id,\n          membersComplete = _this$state3.membersComplete,\n          options = _this$state3.options;\n      var this_ = this;\n      var listaMembros = [];\n      var project_id = firebaseConfig.projectId;\n\n      for (var i = 0; i < membersToAdd.length; i++) {\n        listaMembros.push(membersComplete[membersToAdd[i].id]);\n      }\n\n      if (listaMembros.length != 0) {\n        this_.setState({\n          buttonsEditDisabled: true,\n          buttonSave: \"A gravar...\"\n        });\n        var uri = \"https://us-central1-\" + project_id + \".cloudfunctions.net/api/updateMembrosCaso?\" + \"id=\" + id + \"&membros=\" + encodeURIComponent(JSON.stringify(listaMembros));\n\n        var request = /*#__PURE__*/function () {\n          var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n            return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    _context2.next = 2;\n                    return fetch(uri).then(function (resp) {\n                      return resp.json();\n                    }) // Transform the data into json\n                    .then(function (data) {\n                      if (data != null && data._writeTime) {\n                        //Sucesso\n                        var memberNames = \"\";\n\n                        for (var i = 0; i < listaMembros.length; i++) {\n                          var membro = listaMembros[i];\n\n                          if (i == 0) {\n                            memberNames += membro.nome;\n                          } else {\n                            memberNames += \", \" + membro.nome;\n                          }\n                        }\n\n                        this_.setState({\n                          membersToAdd: [],\n                          buttonSave: \"Gravar\",\n                          buttonsEditDisabled: false,\n                          updatingMembers: false,\n                          membros: listaMembros,\n                          memberNames: memberNames\n                        });\n                        this_.props.updateMembers(listaMembros);\n                      } else {\n                        //Erro\n                        this_.setState({\n                          buttonsEditDisabled: false\n                        });\n                      }\n                    }).catch(function (error) {\n                      console.log(error);\n                      this_.setState({\n                        buttonsEditDisabled: false\n                      });\n                    });\n\n                  case 2:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, _callee2);\n          }));\n\n          return function request() {\n            return _ref2.apply(this, arguments);\n          };\n        }();\n\n        request();\n      } else {}\n    }\n  }, {\n    key: \"onSelectMembro\",\n    value: function onSelectMembro(selectedList, selectedItem) {\n      var array = this.state.membersToAdd;\n      array.push(selectedItem);\n      this.setState({\n        membersToAdd: array\n      });\n    }\n  }, {\n    key: \"onRemoveMembro\",\n    value: function onRemoveMembro(selectedList, removedItem) {\n      var membersToAdd = this.state.membersToAdd;\n      var array = membersToAdd;\n      var index = array.indexOf(removedItem);\n\n      if (index !== -1) {\n        array.splice(index, 1);\n      }\n\n      this.setState({\n        membersToAdd: array\n      });\n    }\n    /*********************************** HANDLERS ***********************************/\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(Card, {\n        style: {\n          width: \"100%\",\n          \"margin-right\": \"60px\"\n        },\n        small: true,\n        className: \"mb-4 pt-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        className: \"border-bottom text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        style: {\n          float: \"left\"\n        },\n        className: \"mb-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }\n      }, this.state.title)), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"text-muted d-block mb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          \"font-weight\": \"bold\",\n          color: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 13\n        }\n      }, \"Criador:\", \" \"), this.state.username), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"text-muted d-block mb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          \"font-weight\": \"bold\",\n          color: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 13\n        }\n      }, \"Data:\", \" \"), this.state.data), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"text-muted d-block mb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          \"font-weight\": \"bold\",\n          color: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 13\n        }\n      }, \"Arquivado:\", \" \"), this.state.arquivado == true ? \"Sim\" : \"Não\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"text-muted d-block mb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          \"font-weight\": \"bold\",\n          color: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 13\n        }\n      }, \"Membros:\", \" \"), this.state.memberNames)), /*#__PURE__*/React.createElement(CardFooter, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 9\n        }\n      }, this.state.editingTitle ? /*#__PURE__*/React.createElement(Form, {\n        className: \"add-new-post\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(FormInput, {\n        size: \"lg\",\n        className: \"mb-3\",\n        placeholder: \"T\\xEDtulo\",\n        type: \"text\",\n        onChange: this.handleTitleToAddChange,\n        value: this.state.titleToAdd,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 15\n        }\n      })) : this.state.updatingMembers ? /*#__PURE__*/React.createElement(Form, {\n        className: \"add-new-post\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"membros\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 15\n        }\n      }, \"Membros\"), /*#__PURE__*/React.createElement(Multiselect, {\n        options: this.state.options // Options to display in the dropdown\n        ,\n        onSelect: this.onSelectMembro // Function will trigger on select event\n        ,\n        onRemove: this.onRemoveMembro,\n        selectedValues: this.state.membersToAdd,\n        displayValue: \"name\" // Property name to display in the dropdown options\n        //showCheckbox={true}\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 15\n        }\n      })) : /*#__PURE__*/React.createElement(ButtonGroup, {\n        size: \"sm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        disabled: this.state.arquivado == true ? true : false,\n        style: {\n          margin: \"3px\"\n        },\n        onClick: this.startMembersUpdate,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        class: \"material-icons\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 17\n        }\n      }, \"edit\"), \"Atualizar Membros\"), /*#__PURE__*/React.createElement(Button, {\n        disabled: this.state.arquivado == true ? true : false,\n        style: {\n          margin: \"3px\"\n        },\n        onClick: this.editTitle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        class: \"material-icons\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 17\n        }\n      }, \"edit\"), \" Editar t\\xEDtulo\"), this.state.currentUser != null ? this.state.currentUser[parentsParameters.ADMIN[languageCode]] ? /*#__PURE__*/React.createElement(Button, {\n        style: {\n          margin: \"3px\"\n        },\n        onClick: this.props.arquiveOrReverse,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        class: \"material-icons\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 21\n        }\n      }, \"archive\"), \" Arquivar / Desarquivar\") : this.state.currentUser[parentsParameters.EMAIL[languageCode]] === this.state.emailAutor ? /*#__PURE__*/React.createElement(Button, {\n        style: {\n          margin: \"3px\"\n        },\n        onClick: this.props.arquiveOrReverse,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        class: \"material-icons\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 21\n        }\n      }, \"archive\"), \" Arquivar / Desarquivar\") : \"\" : \"\"), this.state.editingTitle ? /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        style: {\n          \"margin-right\": \"5px\"\n        },\n        theme: \"success\",\n        onClick: this.finalizeEditTitle,\n        disabled: this.state.buttonsEditDisabled,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 15\n        }\n      }, this.state.buttonSave), /*#__PURE__*/React.createElement(Button, {\n        theme: \"danger\",\n        disabled: this.state.buttonsEditDisabled,\n        onClick: this.cancelEditTitle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 15\n        }\n      }, \"Cancelar\")) : this.state.updatingMembers ? /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        style: {\n          margin: \"5px\"\n        },\n        theme: \"success\",\n        onClick: this.finalizeUpdatingMembers,\n        disabled: this.state.buttonsEditDisabled,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 15\n        }\n      }, this.state.buttonSave), /*#__PURE__*/React.createElement(Button, {\n        theme: \"danger\",\n        disabled: this.state.buttonsEditDisabled,\n        onClick: this.cancelUpdatingMembers,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 15\n        }\n      }, \"Cancelar\")) : \"\"));\n    }\n  }]);\n\n  return CasoDetailOverview;\n}(React.Component);\n\nexport default CasoDetailOverview;","map":{"version":3,"sources":["C:/Users/User/Desktop/Ambiente de Trabalho/Universidade/Ano 3/Semestre 2/PI/Projeto/repos/pi-assoc-pais/develop/src/components/caso-detail/CasoDetailOverview.js"],"names":["React","PropTypes","Card","CardHeader","Button","ButtonGroup","ListGroup","ListGroupItem","Form","FormInput","Progress","CardBody","Row","Col","CardFooter","firestore","firebase_auth","firebase","firebaseConfig","addDocError","sucessoGeral","Multiselect","ListGroupReact","defaultAvatar","languageCode","parentsParameters","studentsParameters","showToast","toastTypes","CasoDetailOverview","props","state","id","title","data","username","emailAutor","arquivado","membros","memberNames","editingTitle","titleToAdd","buttonSave","buttonsEditDisabled","updatingMembers","membersToAdd","options","membersComplete","currentUser","componentDidMount","bind","editTitle","handleTitleToAddChange","cancelEditTitle","finalizeEditTitle","startMembersUpdate","cancelUpdatingMembers","finalizeUpdatingMembers","onSelectMembro","onRemoveMembro","updating","_isMounted","JSON","parse","window","localStorage","getItem","setState","i","length","membro","nome","e","target","value","this_","project_id","projectId","uri","encodeURIComponent","request","fetch","then","resp","json","_writeTime","SUCCESS","newTitle","updateTitle","ERROR","catch","error","console","log","currentMembers","push","parentsCollection","collection","get","querySnapshot","membersArray","membersArrayComplete","optionsSelected","index","forEach","doc","undefined","toString","photo","includes","name","alreadyPut","listaMembros","stringify","updateMembers","selectedList","selectedItem","array","removedItem","indexOf","splice","width","float","color","margin","ADMIN","arquiveOrReverse","EMAIL","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  Card,\r\n  CardHeader,\r\n  Button,\r\n  ButtonGroup,\r\n  ListGroup,\r\n  ListGroupItem,\r\n  Form,\r\n  FormInput,\r\n  Progress,\r\n  CardBody,\r\n  Row,\r\n  Col,\r\n  CardFooter,\r\n} from \"shards-react\";\r\n\r\nimport {\r\n  firestore,\r\n  firebase_auth,\r\n  firebase,\r\n  firebaseConfig,\r\n} from \"../../firebase-config\";\r\nimport { addDocError, sucessoGeral } from \"../../utils/messages_strings\";\r\nimport { Multiselect } from \"multiselect-react-dropdown\";\r\nimport ListGroupReact from \"react-bootstrap/ListGroup\";\r\nimport {\r\n  defaultAvatar,\r\n  languageCode,\r\n  parentsParameters,\r\n  studentsParameters,\r\n  showToast,\r\n  toastTypes,\r\n} from \"../../utils/general_utils\";\r\n\r\nclass CasoDetailOverview extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      id: props.id,\r\n      title: props.title,\r\n      data: props.data,\r\n      username: props.username,\r\n      emailAutor: props.emailAutor,\r\n      arquivado: props.arquivado,\r\n      membros: props.membros,\r\n      memberNames: \"\",\r\n      editingTitle: false,\r\n      titleToAdd: \"\",\r\n      buttonSave: \"Gravar\",\r\n      buttonsEditDisabled: false,\r\n      updatingMembers: false,\r\n      membersToAdd: [],\r\n      options: [],\r\n      membersComplete: [],\r\n      currentUser: null,\r\n    };\r\n\r\n    this.componentDidMount = this.componentDidMount.bind(this);\r\n    this.editTitle = this.editTitle.bind(this);\r\n    this.handleTitleToAddChange = this.handleTitleToAddChange.bind(this);\r\n    this.cancelEditTitle = this.cancelEditTitle.bind(this);\r\n    this.finalizeEditTitle = this.finalizeEditTitle.bind(this);\r\n    this.startMembersUpdate = this.startMembersUpdate.bind(this);\r\n    this.cancelUpdatingMembers = this.cancelUpdatingMembers.bind(this);\r\n    this.finalizeUpdatingMembers = this.finalizeUpdatingMembers.bind(this);\r\n    this.onSelectMembro = this.onSelectMembro.bind(this);\r\n    this.onRemoveMembro = this.onRemoveMembro.bind(this);\r\n  }\r\n\r\n  /*********************************** LIFECYCLE ***********************************/\r\n  componentDidMount(updating) {\r\n    this._isMounted = true;\r\n\r\n    var currentUser = JSON.parse(window.localStorage.getItem(\"userDoc\"));\r\n    if (currentUser != null) {\r\n      this.setState({ currentUser: currentUser });\r\n    }\r\n\r\n    var memberNames = \"\";\r\n\r\n    var membros = this.state.membros;\r\n\r\n    if (membros != null) {\r\n      for (var i = 0; i < membros.length; i++) {\r\n        var membro = membros[i];\r\n        if (i == 0) {\r\n          memberNames += membro.nome;\r\n        } else {\r\n          memberNames += \", \" + membro.nome;\r\n        }\r\n      }\r\n    }\r\n\r\n    this.setState({ memberNames: memberNames });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  editTitle() {\r\n    const { title } = this.state;\r\n    this.setState({ editingTitle: true, titleToAdd: title });\r\n  }\r\n\r\n  handleTitleToAddChange(e) {\r\n    this.setState({ titleToAdd: e.target.value });\r\n  }\r\n\r\n  cancelEditTitle() {\r\n    this.setState({ editingTitle: false, titleToAdd: \"\" });\r\n  }\r\n\r\n  finalizeEditTitle() {\r\n    const { titleToAdd, id } = this.state;\r\n    const this_ = this;\r\n\r\n    this.setState({ buttonSave: \"A gravar...\", buttonsEditDisabled: true });\r\n\r\n    const project_id = firebaseConfig.projectId;\r\n\r\n    let uri =\r\n      \"https://us-central1-\" +\r\n      project_id +\r\n      \".cloudfunctions.net/api/updateTituloCaso?\" +\r\n      \"id=\" +\r\n      id +\r\n      \"&titulo=\" +\r\n      encodeURIComponent(titleToAdd);\r\n\r\n    const request = async () => {\r\n      await fetch(uri)\r\n        .then((resp) => resp.json()) // Transform the data into json\r\n        .then(function (data) {\r\n          if (data && data._writeTime) {\r\n            showToast(sucessoGeral[languageCode], 5000, toastTypes.SUCCESS);\r\n            var newTitle = titleToAdd;\r\n            this_.setState(\r\n              {\r\n                buttonSave: \"Gravar\",\r\n                buttonsEditDisabled: false,\r\n                title: newTitle,\r\n                titleToAdd: \"\",\r\n                editingTitle: false,\r\n              },\r\n              () => this_.props.updateTitle(newTitle)\r\n            );\r\n          } else {\r\n            showToast(addDocError[languageCode], 5000, toastTypes.ERROR);\r\n            this_.setState({\r\n              buttonSave: \"Gravar\",\r\n              buttonsEditDisabled: false,\r\n            });\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n          showToast(addDocError[languageCode], 5000, toastTypes.ERROR);\r\n          this_.setState({ buttonSave: \"Gravar\", buttonsEditDisabled: false });\r\n        });\r\n    };\r\n\r\n    request();\r\n  }\r\n\r\n  startMembersUpdate() {\r\n    const { membros, options } = this.state;\r\n\r\n    var currentMembers = [];\r\n\r\n    for (var i = 0; i < membros.length; i++) {\r\n      var membro = membros[i];\r\n      currentMembers.push(membro[\"id\"]);\r\n    }\r\n\r\n    if (options.length == 0) {\r\n      const parentsCollection = firestore.collection(\"parents\");\r\n\r\n      parentsCollection.get().then((querySnapshot) => {\r\n        var membersArray = [];\r\n        var membersArrayComplete = [];\r\n        var options = [];\r\n        var optionsSelected = [];\r\n\r\n        var index = 0;\r\n        querySnapshot.forEach((doc) => {\r\n          if (doc.data()[\"Nome\"] != undefined && doc.data()[\"Nome\"] != null) {\r\n            if (\r\n              doc.data()[\"Validated\"] != undefined &&\r\n              doc.data()[\"Validated\"] != null &&\r\n              doc.data()[\"Validated\"].toString() != \"false\"\r\n            ) {\r\n              membersArrayComplete.push({\r\n                nome: doc.data()[\"Nome\"],\r\n                id: doc.data()[\"Email\"],\r\n                photo: doc.data()[\"photo\"],\r\n              });\r\n\r\n              if (currentMembers.includes(doc.data()[\"Email\"])) {\r\n                optionsSelected.push({ id: index, name: doc.data()[\"Nome\"] });\r\n              }\r\n              options.push({ id: index, name: doc.data()[\"Nome\"] });\r\n\r\n              index += 1;\r\n            }\r\n          }\r\n        });\r\n        if (options.length != 0) {\r\n          this.setState({\r\n            updatingMembers: true,\r\n            membersComplete: membersArrayComplete,\r\n            options: options,\r\n            membersToAdd: optionsSelected,\r\n          });\r\n        } else {\r\n          //No users to add\r\n        }\r\n      });\r\n    } else {\r\n      var optionsSelected = [];\r\n      var alreadyPut = [];\r\n      for (var i = 0; i < membros.length; i++) {\r\n        var membro = membros[i];\r\n\r\n        if (!alreadyPut.includes(membro[\"id\"])) {\r\n          optionsSelected.push({ id: i, name: membro[\"nome\"] });\r\n          alreadyPut.push(membro[\"id\"]);\r\n        }\r\n      }\r\n\r\n      this.setState({\r\n        updatingMembers: true,\r\n        membersToAdd: optionsSelected,\r\n      });\r\n    }\r\n  }\r\n\r\n  cancelUpdatingMembers() {\r\n    this.setState({ updatingMembers: false, membersToAdd: [] });\r\n  }\r\n\r\n  finalizeUpdatingMembers() {\r\n    const { membersToAdd, id, membersComplete, options } = this.state;\r\n    const this_ = this;\r\n    var listaMembros = [];\r\n    const project_id = firebaseConfig.projectId;\r\n\r\n    for (var i = 0; i < membersToAdd.length; i++) {\r\n      listaMembros.push(membersComplete[membersToAdd[i].id]);\r\n    }\r\n\r\n    if (listaMembros.length != 0) {\r\n      this_.setState({ buttonsEditDisabled: true, buttonSave: \"A gravar...\" });\r\n\r\n      let uri =\r\n        \"https://us-central1-\" +\r\n        project_id +\r\n        \".cloudfunctions.net/api/updateMembrosCaso?\" +\r\n        \"id=\" +\r\n        id +\r\n        \"&membros=\" +\r\n        encodeURIComponent(JSON.stringify(listaMembros));\r\n\r\n      const request = async () => {\r\n        await fetch(uri)\r\n          .then((resp) => resp.json()) // Transform the data into json\r\n          .then(function (data) {\r\n            if (data != null && data._writeTime) {\r\n              //Sucesso\r\n\r\n              var memberNames = \"\";\r\n              for (var i = 0; i < listaMembros.length; i++) {\r\n                var membro = listaMembros[i];\r\n                if (i == 0) {\r\n                  memberNames += membro.nome;\r\n                } else {\r\n                  memberNames += \", \" + membro.nome;\r\n                }\r\n              }\r\n\r\n              this_.setState({\r\n                membersToAdd: [],\r\n                buttonSave: \"Gravar\",\r\n                buttonsEditDisabled: false,\r\n                updatingMembers: false,\r\n                membros: listaMembros,\r\n                memberNames: memberNames,\r\n              });\r\n              this_.props.updateMembers(listaMembros);\r\n            } else {\r\n              //Erro\r\n              this_.setState({\r\n                buttonsEditDisabled: false,\r\n              });\r\n            }\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n            this_.setState({\r\n              buttonsEditDisabled: false,\r\n            });\r\n          });\r\n      };\r\n\r\n      request();\r\n    } else {\r\n    }\r\n  }\r\n\r\n  onSelectMembro(selectedList, selectedItem) {\r\n    var array = this.state.membersToAdd;\r\n    array.push(selectedItem);\r\n    this.setState({ membersToAdd: array });\r\n  }\r\n\r\n  onRemoveMembro(selectedList, removedItem) {\r\n    const { membersToAdd } = this.state;\r\n    var array = membersToAdd;\r\n\r\n    var index = array.indexOf(removedItem);\r\n    if (index !== -1) {\r\n      array.splice(index, 1);\r\n    }\r\n\r\n    this.setState({ membersToAdd: array });\r\n  }\r\n\r\n  /*********************************** HANDLERS ***********************************/\r\n  render() {\r\n    return (\r\n      <Card\r\n        style={{ width: \"100%\", \"margin-right\": \"60px\" }}\r\n        small\r\n        className=\"mb-4 pt-3\"\r\n      >\r\n        <CardHeader className=\"border-bottom text-center\">\r\n          <h4 style={{ float: \"left\" }} className=\"mb-0\">\r\n            {this.state.title}\r\n          </h4>\r\n        </CardHeader>\r\n\r\n        <CardBody>\r\n          <span className=\"text-muted d-block mb-2\">\r\n            <span style={{ \"font-weight\": \"bold\", color: \"black\" }}>\r\n              Criador:{\" \"}\r\n            </span>\r\n            {this.state.username}\r\n          </span>\r\n          <span className=\"text-muted d-block mb-2\">\r\n            <span style={{ \"font-weight\": \"bold\", color: \"black\" }}>\r\n              Data:{\" \"}\r\n            </span>\r\n            {this.state.data}\r\n          </span>\r\n          <span className=\"text-muted d-block mb-2\">\r\n            <span style={{ \"font-weight\": \"bold\", color: \"black\" }}>\r\n              Arquivado:{\" \"}\r\n            </span>\r\n            {this.state.arquivado == true ? \"Sim\" : \"Não\"}\r\n          </span>\r\n          <span className=\"text-muted d-block mb-2\">\r\n            <span style={{ \"font-weight\": \"bold\", color: \"black\" }}>\r\n              Membros:{\" \"}\r\n            </span>\r\n            {this.state.memberNames}\r\n          </span>\r\n        </CardBody>\r\n\r\n        <CardFooter>\r\n          {this.state.editingTitle ? (\r\n            <Form className=\"add-new-post\">\r\n              <FormInput\r\n                size=\"lg\"\r\n                className=\"mb-3\"\r\n                placeholder=\"Título\"\r\n                type=\"text\"\r\n                onChange={this.handleTitleToAddChange}\r\n                value={this.state.titleToAdd}\r\n              />\r\n            </Form>\r\n          ) : this.state.updatingMembers ? (\r\n            <Form className=\"add-new-post\">\r\n              <label htmlFor=\"membros\">Membros</label>\r\n              <Multiselect\r\n                options={this.state.options} // Options to display in the dropdown\r\n                onSelect={this.onSelectMembro} // Function will trigger on select event\r\n                onRemove={this.onRemoveMembro}\r\n                selectedValues={this.state.membersToAdd}\r\n                displayValue=\"name\" // Property name to display in the dropdown options\r\n                //showCheckbox={true}\r\n              />\r\n            </Form>\r\n          ) : (\r\n            <ButtonGroup size=\"sm\">\r\n              <Button\r\n                disabled={this.state.arquivado == true ? true : false}\r\n                style={{ margin: \"3px\" }}\r\n                onClick={this.startMembersUpdate}\r\n              >\r\n                <i class=\"material-icons\">edit</i>Atualizar Membros\r\n              </Button>\r\n\r\n              <Button\r\n                disabled={this.state.arquivado == true ? true : false}\r\n                style={{ margin: \"3px\" }}\r\n                onClick={this.editTitle}\r\n              >\r\n                <i class=\"material-icons\">edit</i> Editar título\r\n              </Button>\r\n\r\n              {this.state.currentUser != null ? (\r\n                this.state.currentUser[\r\n                  parentsParameters.ADMIN[languageCode]\r\n                ] ? (\r\n                  <Button\r\n                    style={{ margin: \"3px\" }}\r\n                    onClick={this.props.arquiveOrReverse}\r\n                  >\r\n                    <i class=\"material-icons\">archive</i> Arquivar / Desarquivar\r\n                  </Button>\r\n                ) : this.state.currentUser[\r\n                    parentsParameters.EMAIL[languageCode]\r\n                  ] === this.state.emailAutor ? (\r\n                  <Button\r\n                    style={{ margin: \"3px\" }}\r\n                    onClick={this.props.arquiveOrReverse}\r\n                  >\r\n                    <i class=\"material-icons\">archive</i> Arquivar / Desarquivar\r\n                  </Button>\r\n                ) : (\r\n                  \"\"\r\n                )\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </ButtonGroup>\r\n          )}\r\n          {this.state.editingTitle ? (\r\n            <div>\r\n              <Button\r\n                style={{ \"margin-right\": \"5px\" }}\r\n                theme=\"success\"\r\n                onClick={this.finalizeEditTitle}\r\n                disabled={this.state.buttonsEditDisabled}\r\n              >\r\n                {this.state.buttonSave}\r\n              </Button>\r\n              <Button\r\n                theme=\"danger\"\r\n                disabled={this.state.buttonsEditDisabled}\r\n                onClick={this.cancelEditTitle}\r\n              >\r\n                Cancelar\r\n              </Button>\r\n            </div>\r\n          ) : this.state.updatingMembers ? (\r\n            <div>\r\n              <Button\r\n                style={{ margin: \"5px\" }}\r\n                theme=\"success\"\r\n                onClick={this.finalizeUpdatingMembers}\r\n                disabled={this.state.buttonsEditDisabled}\r\n              >\r\n                {this.state.buttonSave}\r\n              </Button>\r\n              <Button\r\n                theme=\"danger\"\r\n                disabled={this.state.buttonsEditDisabled}\r\n                onClick={this.cancelUpdatingMembers}\r\n              >\r\n                Cancelar\r\n              </Button>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </CardFooter>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CasoDetailOverview;\r\n"]},"metadata":{},"sourceType":"module"}