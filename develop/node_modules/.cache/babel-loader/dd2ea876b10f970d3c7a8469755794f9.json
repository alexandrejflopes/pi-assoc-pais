{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\src\\\\components\\\\profile\\\\NewEducandoModal.js\";\nimport React from \"react\";\nimport Modal from \"react-bootstrap/Modal\";\nimport { Button, Col, Form, FormFeedback, FormGroup, FormInput, ListGroup, ListGroupItem, Row } from \"shards-react\";\nimport { defaultAvatar, languageCode, newParametersEntities, parentsParameters, showToast, studentsParameters, toastTypes } from \"../../utils/general_utils\";\nimport { childAddedError, childAddedSuccess, childAddPhotoError, fillRequiredFieldMessage, parentUpdatePhotoError, parentUpdatePhotoSuccess, provideRequiredFieldsMessage, sameChildNameError } from \"../../utils/messages_strings\";\nimport { newChild, submitChild } from \"../../utils/page_titles_strings\";\nimport { addEducandoToParent, updateParent, uploadChildPhoto, uploadProfilePhoto } from \"../../firebase_scripts/profile_functions\";\nimport { firebase_auth, storage } from \"../../firebase-config\";\n\nvar NewEducandoModal = /*#__PURE__*/function (_React$Component) {\n  _inherits(NewEducandoModal, _React$Component);\n\n  var _super = _createSuper(NewEducandoModal);\n\n  function NewEducandoModal(props) {\n    var _feedbacks, _feedbacks2;\n\n    var _this;\n\n    _classCallCheck(this, NewEducandoModal);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      educando: {},\n      show: false,\n      nameFeedback: null,\n      anoFeedback: null,\n      newParamsTypesN: _this.props.newParamsTypesN,\n      educandoFoto: defaultAvatar,\n      feedbacks: (_feedbacks = {}, _defineProperty(_feedbacks, studentsParameters.NAME[languageCode], false), _defineProperty(_feedbacks, studentsParameters.SCHOOL_YEAR[languageCode], false), _feedbacks),\n      originalPhoto: defaultAvatar,\n      fileToUpload: null\n    };\n    _this.initial = {\n      educando: {},\n      show: false,\n      nameFeedback: null,\n      anoFeedback: null,\n      newParamsTypesN: _this.props.newParamsTypesN,\n      educandoFoto: defaultAvatar,\n      feedbacks: (_feedbacks2 = {}, _defineProperty(_feedbacks2, studentsParameters.NAME[languageCode], false), _defineProperty(_feedbacks2, studentsParameters.SCHOOL_YEAR[languageCode], false), _feedbacks2),\n      originalPhoto: defaultAvatar,\n      fileToUpload: null,\n      onCreateButtonDisabled: false\n    };\n    _this.showModal = _this.showModal.bind(_assertThisInitialized(_this));\n    _this.closeModal = _this.closeModal.bind(_assertThisInitialized(_this));\n    _this.resetState = _this.resetState.bind(_assertThisInitialized(_this));\n    _this.handleChangeParam = _this.handleChangeParam.bind(_assertThisInitialized(_this));\n    _this.handleChangePhoto = _this.handleChangePhoto.bind(_assertThisInitialized(_this));\n    _this.addEducando = _this.addEducando.bind(_assertThisInitialized(_this));\n    _this.renderExtra = _this.renderExtra.bind(_assertThisInitialized(_this));\n    _this.validForm = _this.validForm.bind(_assertThisInitialized(_this));\n    _this.resetFeedbacks = _this.resetFeedbacks.bind(_assertThisInitialized(_this));\n    _this.disableCreateButtonAndInputs = _this.disableCreateButtonAndInputs.bind(_assertThisInitialized(_this));\n    _this.enableCreateButtonAndInputs = _this.enableCreateButtonAndInputs.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(NewEducandoModal, [{\n    key: \"handleChangePhoto\",\n    value: function handleChangePhoto(e) {\n      var imageFile = e.target.files[0];\n\n      if (imageFile != null) {\n        var imageTempUrl = URL.createObjectURL(imageFile);\n        this.setState({\n          fileToUpload: imageFile,\n          educandoFoto: imageTempUrl\n        });\n      }\n    }\n  }, {\n    key: \"addEducando\",\n    value: function addEducando() {\n      var this_ = this;\n      var validResult = this.validForm();\n\n      if (!validResult) {\n        showToast(provideRequiredFieldsMessage[languageCode], 5000, toastTypes.ERROR);\n      } else {\n        var uniqueChildName = this.checkUniqueChildName();\n\n        if (!uniqueChildName) {\n          showToast(sameChildNameError[languageCode], 5000, toastTypes.ERROR);\n        } else {\n          this_.disableCreateButtonAndInputs();\n\n          var myState = _objectSpread({}, this.state); // if photo changed, upload it as well\n\n\n          if (this.state.educandoFoto !== this.state.originalPhoto) {\n            var newPhotoFile = this.state.fileToUpload;\n            var uploadTask = uploadChildPhoto(newPhotoFile);\n            uploadTask.then(function (snapshot) {\n              // Handle successful uploads on complete\n              // get the download URL\n              snapshot.ref.getDownloadURL().then(function (downloadURL) {\n                addEducandoToParent(firebase_auth.currentUser.email, myState.educando, downloadURL).then(function (updatedParent) {\n                  if (updatedParent.error != null || Object.keys(updatedParent).length === 0) {\n                    showToast(childAddedError[languageCode], 5000, toastTypes.ERROR);\n                    this_.enableCreateButtonAndInputs();\n                  } else {\n                    var upParentString = JSON.stringify(updatedParent);\n                    console.log(\"updatedParent recebido depois do update -> \" + upParentString); // update user data in localstorage\n\n                    window.localStorage.setItem(\"userDoc\", upParentString);\n                    this_.closeModal();\n                    this_.props.componentDidMount(true);\n                    showToast(childAddedSuccess[languageCode], 5000, toastTypes.SUCCESS);\n                  }\n                });\n              });\n            }).catch(function (error) {\n              console.log(\"Photo upload failed: \" + JSON.stringify(error));\n              showToast(childAddPhotoError[languageCode], 5000, toastTypes.ERROR);\n              this_.enableCreateButtonAndInputs();\n            });\n          } else {\n            addEducandoToParent(firebase_auth.currentUser.email, myState.educando, myState.educandoFoto).then(function (updatedParent) {\n              if (updatedParent.error != null || Object.keys(updatedParent).length === 0) {\n                showToast(childAddedError[languageCode], 5000, toastTypes.ERROR);\n                this_.enableCreateButtonAndInputs();\n              } else {\n                var upParentString = JSON.stringify(updatedParent);\n                console.log(\"updatedParent recebido depois do update -> \" + upParentString); // update user data in localstorage\n\n                window.localStorage.setItem(\"userDoc\", upParentString);\n                this_.closeModal();\n                this_.props.componentDidMount(true);\n                showToast(childAddedSuccess[languageCode], 5000, toastTypes.SUCCESS);\n              }\n            });\n          }\n        }\n      }\n    }\n  }, {\n    key: \"checkUniqueChildName\",\n    value: function checkUniqueChildName() {\n      var nameToAdd = this.state.educando[studentsParameters.NAME[languageCode]];\n      var localUser = JSON.parse(window.localStorage.getItem(\"userDoc\"));\n      var nameDesignation = studentsParameters.NAME[languageCode];\n      var educandos = localUser[parentsParameters.CHILDREN[languageCode]];\n      var names = [];\n\n      for (var i in educandos) {\n        var educando = educandos[i];\n        var currentName = educando[nameDesignation];\n        names.push(currentName);\n      }\n\n      if (names.includes(nameToAdd)) {\n        this.showInvalidNameFeedback();\n        return false;\n      }\n\n      this.hideInvalidNameFeedback();\n      return true;\n    }\n  }, {\n    key: \"validForm\",\n    value: function validForm() {\n      //console.log(\"state no valid 1: \" + JSON.stringify(this.state));\n      // remove all feedbacks at the beginning\n      this.resetFeedbacks(); //console.log(\"state no valid 2: \" + JSON.stringify(this.state));\n      // check if all inputs are filled\n\n      var changedFeedbacks = _objectSpread({}, this.state.feedbacks);\n\n      var allFilled = true;\n\n      for (var field in this.state.feedbacks) {\n        var value = this.state.educando[field]; //console.log(field + \" : \" + value);\n\n        if (value == null || value.trim() === \"\") {\n          //console.log(\"entrei com \" + field + \" a \" + value);\n          //console.log(\"passar de  \" + changedFeedbacks[field] + \" a true\");\n          changedFeedbacks[field] = true;\n          allFilled = false;\n        }\n      } //console.log(\"changedFeedbacks no valid: \" + JSON.stringify(changedFeedbacks));\n\n\n      this.state.feedbacks = changedFeedbacks;\n      this.forceUpdate();\n      return allFilled;\n    }\n  }, {\n    key: \"showInvalidNameFeedback\",\n    value: function showInvalidNameFeedback() {\n      this.state.feedbacks[studentsParameters.NAME[languageCode]] = true;\n      this.forceUpdate();\n    }\n  }, {\n    key: \"hideInvalidNameFeedback\",\n    value: function hideInvalidNameFeedback() {\n      this.state.feedbacks[studentsParameters.NAME[languageCode]] = false;\n      this.forceUpdate();\n    }\n  }, {\n    key: \"resetFeedbacks\",\n    value: function resetFeedbacks() {\n      var changedFeedbacks = _objectSpread({}, this.state.feedbacks); //console.log(\"------------ RESET ------------\");\n\n\n      for (var field in changedFeedbacks) {\n        //console.log(\"entrei com \" + field);\n        //console.log(\"passar de  \" + changedFeedbacks[field] + \" a false\");\n        changedFeedbacks[field] = false;\n      } //console.log(\"changedFeedbacks resetados: \" + JSON.stringify(changedFeedbacks));\n\n\n      this.state.feedbacks = changedFeedbacks; //console.log(\"feedbacks depois do reset: \" + JSON.stringify(this.state.feedbacks));\n\n      this.forceUpdate();\n    }\n  }, {\n    key: \"handleChangeParam\",\n    value: function handleChangeParam(e) {\n      var educando = this.state.educando;\n      var paramName = e.target.name; //console.log(\"paramName to change: \" + paramName);\n      // update the param with the new value\n\n      educando[paramName] = e.target.value; //console.log(\"educando with new values: \" + JSON.stringify(educando));\n\n      this.setState({\n        educando: educando\n      });\n    }\n  }, {\n    key: \"showModal\",\n    value: function showModal() {\n      this.setState({\n        show: true\n      });\n      this.enableCreateButtonAndInputs(); // just in case\n    }\n  }, {\n    key: \"closeModal\",\n    value: function closeModal() {\n      this.resetState();\n      this.setState({\n        show: false\n      });\n      this.enableCreateButtonAndInputs();\n    }\n  }, {\n    key: \"resetState\",\n    value: function resetState() {\n      this.setState(this.initial);\n      console.log(\"state inicial antes do reset -> \" + JSON.stringify(this.initial));\n      console.log(\"state depois do reset -> \" + JSON.stringify(this.state));\n    }\n  }, {\n    key: \"disableCreateButtonAndInputs\",\n    value: function disableCreateButtonAndInputs() {\n      this.setState({\n        onCreateButtonDisabled: true\n      });\n      this.setState({\n        disabled: true\n      });\n    }\n  }, {\n    key: \"enableCreateButtonAndInputs\",\n    value: function enableCreateButtonAndInputs() {\n      this.setState({\n        onCreateButtonDisabled: false\n      });\n      this.setState({\n        disabled: false\n      });\n    }\n  }, {\n    key: \"renderExtra\",\n    value: function renderExtra() {\n      var extraInputs = []; //console.log(\"newParamsTypesN -> \" + JSON.stringify(this.state.newParamsTypesN));\n\n      var childParamsTypes = this.state.newParamsTypesN[newParametersEntities.student[languageCode]];\n\n      if (childParamsTypes != null) {\n        // is null when there are no child parameters\n        for (var param in childParamsTypes) {\n          var idx = \"child\" + param;\n          var type = childParamsTypes[param].type;\n          var step = childParamsTypes[param].step; // add feedback control variable\n\n          var updatedFeedbacks = _objectSpread({}, this.state.feedbacks);\n\n          updatedFeedbacks[param] = false;\n          this.state.feedbacks = updatedFeedbacks;\n          var feedbackIdx = \"child\" + param + \"Feedback\"; //console.log(\"state com nova feedback entry -> \" + JSON.stringify(this.state));\n\n          var newInput = /*#__PURE__*/React.createElement(FormGroup, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(\"label\", {\n            htmlFor: idx,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 13\n            }\n          }, param), /*#__PURE__*/React.createElement(FormInput, {\n            id: idx,\n            type: type,\n            step: step,\n            name: param,\n            placeholder: \"\",\n            value: this.state.educando[param],\n            onChange: this.handleChangeParam,\n            invalid: this.state.feedbacks[param],\n            required: true,\n            disabled: this.state.disabled ? \"disabled\" : \"\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 13\n            }\n          }), /*#__PURE__*/React.createElement(FormFeedback, {\n            id: feedbackIdx,\n            valid: false,\n            style: {\n              display: \"none\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 13\n            }\n          }, fillRequiredFieldMessage[languageCode]));\n          extraInputs.push(newInput);\n        }\n      }\n\n      return extraInputs;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      //console.log(\"state a render -> \" + JSON.stringify(this.state));\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n        size: \"sm\",\n        className: \"float-right\",\n        onClick: this.showModal,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"material-icons\",\n        style: {\n          fontSize: \"150%\",\n          textAlign: \"center\",\n          verticalAlign: \"middle\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 76\n        }\n      }, \"person_add\")), /*#__PURE__*/React.createElement(Modal, {\n        show: this.state.show,\n        onHide: this.closeModal,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Modal.Header, {\n        closeButton: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Modal.Title, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 13\n        }\n      }, newChild[languageCode])), /*#__PURE__*/React.createElement(Modal.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(ListGroup, {\n        flush: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(ListGroupItem, {\n        className: \"p-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        style: {\n          justifyContent: \"center\",\n          flexDirection: \"column\",\n          alignItems: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          width: \"110px\",\n          height: \"110px\",\n          backgroundImage: \"url(\" + this.state.educandoFoto + \")\",\n          backgroundPosition: \"center\",\n          borderRadius: \"50%\",\n          backgroundSize: \"cover\",\n          backgroundRepeat: \"no-repeat\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          margin: \"10px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(Row, {\n        style: {\n          justifyContent: \"center\",\n          flexDirection: \"column\",\n          alignItems: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        style: {\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          marginBottom: \"5px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        size: \"sm\",\n        theme: \"light\",\n        id: \"add-photo-button-new-child\",\n        disabled: this.state.onCreateButtonDisabled,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"file-upload-input\",\n        style: {\n          cursor: \"pointer\",\n          padding: \"0px\",\n          margin: \"0px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"material-icons md-24\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 27\n        }\n      }, \"add_a_photo\"))), /*#__PURE__*/React.createElement(\"input\", {\n        id: \"file-upload-input\",\n        type: \"file\",\n        accept: \"image/png, image/jpeg\",\n        style: {\n          display: \"none\",\n          margin: \"0px\"\n        },\n        onChange: this.handleChangePhoto,\n        disabled: this.state.disabled ? \"disabled\" : \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 23\n        }\n      }))), /*#__PURE__*/React.createElement(Form, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"childName\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 23\n        }\n      }, studentsParameters.NAME[languageCode]), /*#__PURE__*/React.createElement(FormInput, {\n        id: \"childName\",\n        type: \"text\",\n        name: studentsParameters.NAME[languageCode],\n        placeholder: \"\",\n        value: this.state.educando[studentsParameters.NAME[languageCode]],\n        onChange: this.handleChangeParam,\n        invalid: this.state.feedbacks[studentsParameters.NAME[languageCode]],\n        required: true,\n        disabled: this.state.disabled ? \"disabled\" : \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(FormFeedback, {\n        id: \"childNameFeedback\",\n        valid: false,\n        style: {\n          display: \"none\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 23\n        }\n      }, fillRequiredFieldMessage[languageCode])), /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"childSchoolYear\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 23\n        }\n      }, studentsParameters.SCHOOL_YEAR[languageCode]), /*#__PURE__*/React.createElement(FormInput, {\n        id: \"childSchoolYear\",\n        type: \"number\",\n        name: studentsParameters.SCHOOL_YEAR[languageCode],\n        placeholder: \"\",\n        value: this.state.educando[studentsParameters.SCHOOL_YEAR[languageCode]],\n        onChange: this.handleChangeParam,\n        invalid: this.state.feedbacks[studentsParameters.SCHOOL_YEAR[languageCode]],\n        required: true,\n        disabled: this.state.disabled ? \"disabled\" : \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 23\n        }\n      }), /*#__PURE__*/React.createElement(FormFeedback, {\n        id: \"childSchoolYearFeedback\",\n        valid: false,\n        style: {\n          display: \"none\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 23\n        }\n      }, fillRequiredFieldMessage[languageCode])), this.renderExtra()))))), /*#__PURE__*/React.createElement(Modal.Footer, {\n        style: {\n          justifyContent: \"left\",\n          flexDirection: \"column\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"primary\",\n        onClick: this.addEducando,\n        disabled: this.state.onCreateButtonDisabled,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 13\n        }\n      }, submitChild[languageCode]))));\n    }\n  }]);\n\n  return NewEducandoModal;\n}(React.Component);\n\nexport default NewEducandoModal;","map":{"version":3,"sources":["C:/Users/User/Desktop/Ambiente de Trabalho/Universidade/Ano 3/Semestre 2/PI/Projeto/repos/pi-assoc-pais/develop/src/components/profile/NewEducandoModal.js"],"names":["React","Modal","Button","Col","Form","FormFeedback","FormGroup","FormInput","ListGroup","ListGroupItem","Row","defaultAvatar","languageCode","newParametersEntities","parentsParameters","showToast","studentsParameters","toastTypes","childAddedError","childAddedSuccess","childAddPhotoError","fillRequiredFieldMessage","parentUpdatePhotoError","parentUpdatePhotoSuccess","provideRequiredFieldsMessage","sameChildNameError","newChild","submitChild","addEducandoToParent","updateParent","uploadChildPhoto","uploadProfilePhoto","firebase_auth","storage","NewEducandoModal","props","state","educando","show","nameFeedback","anoFeedback","newParamsTypesN","educandoFoto","feedbacks","NAME","SCHOOL_YEAR","originalPhoto","fileToUpload","initial","onCreateButtonDisabled","showModal","bind","closeModal","resetState","handleChangeParam","handleChangePhoto","addEducando","renderExtra","validForm","resetFeedbacks","disableCreateButtonAndInputs","enableCreateButtonAndInputs","e","imageFile","target","files","imageTempUrl","URL","createObjectURL","setState","this_","validResult","ERROR","uniqueChildName","checkUniqueChildName","myState","newPhotoFile","uploadTask","then","snapshot","ref","getDownloadURL","downloadURL","currentUser","email","updatedParent","error","Object","keys","length","upParentString","JSON","stringify","console","log","window","localStorage","setItem","componentDidMount","SUCCESS","catch","nameToAdd","localUser","parse","getItem","nameDesignation","educandos","CHILDREN","names","i","currentName","push","includes","showInvalidNameFeedback","hideInvalidNameFeedback","changedFeedbacks","allFilled","field","value","trim","forceUpdate","paramName","name","disabled","extraInputs","childParamsTypes","student","param","idx","type","step","updatedFeedbacks","feedbackIdx","newInput","display","fontSize","textAlign","verticalAlign","justifyContent","flexDirection","alignItems","width","height","backgroundImage","backgroundPosition","borderRadius","backgroundSize","backgroundRepeat","margin","marginBottom","cursor","padding","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport {\r\n  Button,\r\n  Col,\r\n  Form,\r\n  FormFeedback,\r\n  FormGroup,\r\n  FormInput,\r\n  ListGroup,\r\n  ListGroupItem,\r\n  Row,\r\n} from \"shards-react\";\r\nimport {\r\n  defaultAvatar,\r\n  languageCode, newParametersEntities, parentsParameters, showToast,\r\n  studentsParameters, toastTypes,\r\n} from \"../../utils/general_utils\";\r\nimport {\r\n  childAddedError,\r\n  childAddedSuccess, childAddPhotoError,\r\n  fillRequiredFieldMessage, parentUpdatePhotoError, parentUpdatePhotoSuccess,\r\n  provideRequiredFieldsMessage, sameChildNameError\r\n} from \"../../utils/messages_strings\";\r\nimport {newChild, submitChild} from \"../../utils/page_titles_strings\";\r\nimport {\r\n  addEducandoToParent, updateParent, uploadChildPhoto,\r\n  uploadProfilePhoto\r\n} from \"../../firebase_scripts/profile_functions\";\r\nimport {firebase_auth, storage} from \"../../firebase-config\";\r\n\r\n\r\n\r\nclass NewEducandoModal extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      educando: {},\r\n      show: false,\r\n      nameFeedback: null,\r\n      anoFeedback: null,\r\n      newParamsTypesN: this.props.newParamsTypesN,\r\n      educandoFoto : defaultAvatar,\r\n      feedbacks : {\r\n        [studentsParameters.NAME[languageCode]] : false,\r\n        [studentsParameters.SCHOOL_YEAR[languageCode]] : false\r\n      },\r\n      originalPhoto : defaultAvatar,\r\n      fileToUpload : null\r\n    };\r\n\r\n    this.initial = {\r\n      educando: {},\r\n      show: false,\r\n      nameFeedback: null,\r\n      anoFeedback: null,\r\n      newParamsTypesN: this.props.newParamsTypesN,\r\n      educandoFoto : defaultAvatar,\r\n      feedbacks : {\r\n        [studentsParameters.NAME[languageCode]] : false,\r\n        [studentsParameters.SCHOOL_YEAR[languageCode]] : false\r\n      },\r\n      originalPhoto : defaultAvatar,\r\n      fileToUpload : null,\r\n      onCreateButtonDisabled : false,\r\n    };\r\n\r\n    this.showModal = this.showModal.bind(this);\r\n    this.closeModal = this.closeModal.bind(this);\r\n    this.resetState = this.resetState.bind(this);\r\n    this.handleChangeParam = this.handleChangeParam.bind(this);\r\n    this.handleChangePhoto = this.handleChangePhoto.bind(this);\r\n\r\n    this.addEducando = this.addEducando.bind(this);\r\n    this.renderExtra = this.renderExtra.bind(this);\r\n    this.validForm = this.validForm.bind(this);\r\n    this.resetFeedbacks = this.resetFeedbacks.bind(this);\r\n\r\n    this.disableCreateButtonAndInputs = this.disableCreateButtonAndInputs.bind(this);\r\n    this.enableCreateButtonAndInputs = this.enableCreateButtonAndInputs.bind(this);\r\n\r\n  }\r\n\r\n  handleChangePhoto(e) {\r\n    const imageFile = e.target.files[0];\r\n    if(imageFile!=null){\r\n      const imageTempUrl = URL.createObjectURL(imageFile);\r\n      this.setState({fileToUpload : imageFile, educandoFoto : imageTempUrl});\r\n    }\r\n  }\r\n\r\n\r\n  addEducando(){\r\n    const this_ = this;\r\n    const validResult = this.validForm();\r\n    if(!validResult){\r\n      showToast(provideRequiredFieldsMessage[languageCode], 5000, toastTypes.ERROR);\r\n    }\r\n    else{\r\n      const uniqueChildName = this.checkUniqueChildName();\r\n      if(!uniqueChildName){\r\n        showToast(sameChildNameError[languageCode], 5000, toastTypes.ERROR);\r\n      }\r\n      else{\r\n        this_.disableCreateButtonAndInputs();\r\n        let myState = {...this.state};\r\n\r\n        // if photo changed, upload it as well\r\n        if(this.state.educandoFoto!==this.state.originalPhoto){\r\n          const newPhotoFile = this.state.fileToUpload;\r\n          const uploadTask = uploadChildPhoto(newPhotoFile);\r\n\r\n          uploadTask\r\n            .then((snapshot) => {\r\n              // Handle successful uploads on complete\r\n              // get the download URL\r\n              snapshot.ref.getDownloadURL().then(function (downloadURL) {\r\n                addEducandoToParent(firebase_auth.currentUser.email, myState.educando, downloadURL)\r\n                  .then((updatedParent) => {\r\n                    if(updatedParent.error!=null || Object.keys(updatedParent).length===0){\r\n                      showToast(childAddedError[languageCode], 5000, toastTypes.ERROR);\r\n                      this_.enableCreateButtonAndInputs();\r\n                    }\r\n                    else{\r\n                      const upParentString = JSON.stringify(updatedParent);\r\n                      console.log(\"updatedParent recebido depois do update -> \" + upParentString);\r\n                      // update user data in localstorage\r\n                      window.localStorage.setItem(\"userDoc\", upParentString);\r\n                      this_.closeModal();\r\n                      this_.props.componentDidMount(true);\r\n                      showToast(childAddedSuccess[languageCode], 5000, toastTypes.SUCCESS);\r\n                    }\r\n\r\n                  });\r\n              });\r\n            })\r\n            .catch((error) => {\r\n              console.log(\"Photo upload failed: \" + JSON.stringify(error));\r\n              showToast(childAddPhotoError[languageCode], 5000, toastTypes.ERROR);\r\n              this_.enableCreateButtonAndInputs();\r\n            });\r\n        }\r\n        else{\r\n          addEducandoToParent(firebase_auth.currentUser.email, myState.educando, myState.educandoFoto)\r\n            .then((updatedParent) => {\r\n              if(updatedParent.error!=null || Object.keys(updatedParent).length===0){\r\n                showToast(childAddedError[languageCode], 5000, toastTypes.ERROR);\r\n                this_.enableCreateButtonAndInputs();\r\n              }\r\n              else{\r\n                const upParentString = JSON.stringify(updatedParent);\r\n                console.log(\"updatedParent recebido depois do update -> \" + upParentString);\r\n                // update user data in localstorage\r\n                window.localStorage.setItem(\"userDoc\", upParentString);\r\n                this_.closeModal();\r\n                this_.props.componentDidMount(true);\r\n                showToast(childAddedSuccess[languageCode], 5000, toastTypes.SUCCESS);\r\n              }\r\n            });\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n  checkUniqueChildName(){\r\n    const nameToAdd = this.state.educando[studentsParameters.NAME[languageCode]];\r\n    const localUser = JSON.parse(window.localStorage.getItem(\"userDoc\"));\r\n    const nameDesignation = studentsParameters.NAME[languageCode];\r\n    const educandos = localUser[parentsParameters.CHILDREN[languageCode]];\r\n\r\n    const names = [];\r\n    for (let i in educandos){\r\n      const educando = educandos[i];\r\n      const currentName = educando[nameDesignation];\r\n      names.push(currentName);\r\n    }\r\n\r\n    if(names.includes(nameToAdd)){\r\n      this.showInvalidNameFeedback();\r\n      return false;\r\n    }\r\n\r\n    this.hideInvalidNameFeedback();\r\n    return true;\r\n  }\r\n\r\n  validForm(){\r\n    //console.log(\"state no valid 1: \" + JSON.stringify(this.state));\r\n    // remove all feedbacks at the beginning\r\n    this.resetFeedbacks();\r\n\r\n    //console.log(\"state no valid 2: \" + JSON.stringify(this.state));\r\n    // check if all inputs are filled\r\n    let changedFeedbacks = {...this.state.feedbacks};\r\n    let allFilled = true;\r\n\r\n    for(let field in this.state.feedbacks){\r\n      const value = this.state.educando[field];\r\n      //console.log(field + \" : \" + value);\r\n      if(value==null || value.trim()===\"\"){\r\n        //console.log(\"entrei com \" + field + \" a \" + value);\r\n        //console.log(\"passar de  \" + changedFeedbacks[field] + \" a true\");\r\n        changedFeedbacks[field] = true;\r\n        allFilled = false;\r\n      }\r\n    }\r\n    //console.log(\"changedFeedbacks no valid: \" + JSON.stringify(changedFeedbacks));\r\n    this.state.feedbacks = changedFeedbacks;\r\n    this.forceUpdate();\r\n    return allFilled;\r\n  }\r\n\r\n  showInvalidNameFeedback(){\r\n    this.state.feedbacks[studentsParameters.NAME[languageCode]] = true;\r\n    this.forceUpdate();\r\n  }\r\n\r\n  hideInvalidNameFeedback(){\r\n    this.state.feedbacks[studentsParameters.NAME[languageCode]] = false;\r\n    this.forceUpdate();\r\n  }\r\n\r\n  resetFeedbacks(){\r\n    let changedFeedbacks = {...this.state.feedbacks};\r\n    //console.log(\"------------ RESET ------------\");\r\n    for(let field in changedFeedbacks){\r\n      //console.log(\"entrei com \" + field);\r\n      //console.log(\"passar de  \" + changedFeedbacks[field] + \" a false\");\r\n      changedFeedbacks[field] = false;\r\n    }\r\n\r\n    //console.log(\"changedFeedbacks resetados: \" + JSON.stringify(changedFeedbacks));\r\n    this.state.feedbacks = changedFeedbacks;\r\n    //console.log(\"feedbacks depois do reset: \" + JSON.stringify(this.state.feedbacks));\r\n    this.forceUpdate();\r\n  }\r\n\r\n  handleChangeParam(e) {\r\n    let educando = this.state.educando;\r\n    let paramName = e.target.name;\r\n    //console.log(\"paramName to change: \" + paramName);\r\n    // update the param with the new value\r\n    educando[paramName] = e.target.value;\r\n    //console.log(\"educando with new values: \" + JSON.stringify(educando));\r\n    this.setState({ educando: educando });\r\n  }\r\n\r\n  showModal() {\r\n    this.setState({ show: true });\r\n    this.enableCreateButtonAndInputs(); // just in case\r\n  }\r\n\r\n  closeModal() {\r\n    this.resetState();\r\n    this.setState({ show: false });\r\n    this.enableCreateButtonAndInputs();\r\n  }\r\n\r\n  resetState(){\r\n    this.setState(this.initial);\r\n    console.log(\"state inicial antes do reset -> \" + JSON.stringify(this.initial));\r\n    console.log(\"state depois do reset -> \" + JSON.stringify(this.state));\r\n  }\r\n\r\n\r\n  disableCreateButtonAndInputs(){\r\n    this.setState({ onCreateButtonDisabled: true });\r\n    this.setState({ disabled: true });\r\n  }\r\n\r\n  enableCreateButtonAndInputs(){\r\n    this.setState({ onCreateButtonDisabled: false });\r\n    this.setState({ disabled: false });\r\n  }\r\n\r\n\r\n\r\n  renderExtra() {\r\n    let extraInputs = [];\r\n\r\n    //console.log(\"newParamsTypesN -> \" + JSON.stringify(this.state.newParamsTypesN));\r\n\r\n    const childParamsTypes = this.state.newParamsTypesN[newParametersEntities.student[languageCode]];\r\n\r\n    if(childParamsTypes!=null) { // is null when there are no child parameters\r\n      for (let param in childParamsTypes) {\r\n\r\n        const idx = \"child\" + param;\r\n        const type = childParamsTypes[param].type;\r\n        const step = childParamsTypes[param].step;\r\n\r\n        // add feedback control variable\r\n        let updatedFeedbacks = {...this.state.feedbacks};\r\n        updatedFeedbacks[param] = false;\r\n        this.state.feedbacks = updatedFeedbacks;\r\n        const feedbackIdx = \"child\" + param + \"Feedback\";\r\n\r\n        //console.log(\"state com nova feedback entry -> \" + JSON.stringify(this.state));\r\n\r\n        const newInput = (\r\n          <FormGroup>\r\n            <label htmlFor={idx}>{param}</label>\r\n            <FormInput\r\n              id={idx}\r\n              type={type}\r\n              step={step}\r\n              name={param}\r\n              placeholder=\"\"\r\n              value={this.state.educando[param]}\r\n              onChange={this.handleChangeParam}\r\n              invalid={this.state.feedbacks[param]}\r\n              required\r\n              disabled={this.state.disabled ? \"disabled\" : \"\"}\r\n            />\r\n            <FormFeedback\r\n              id={feedbackIdx}\r\n              valid={false}\r\n              style={{ display: \"none\" }}\r\n            >\r\n              {fillRequiredFieldMessage[languageCode]}\r\n            </FormFeedback>\r\n          </FormGroup>\r\n        );\r\n        extraInputs.push(newInput);\r\n      }\r\n    }\r\n\r\n\r\n\r\n    return extraInputs;\r\n  }\r\n\r\n  render() {\r\n    //console.log(\"state a render -> \" + JSON.stringify(this.state));\r\n    return (\r\n      <>\r\n        <Button size=\"sm\" className=\"float-right\" onClick={this.showModal}><span className=\"material-icons\" style={{fontSize:\"150%\", textAlign: \"center\", verticalAlign:\"middle\"}}>person_add</span></Button>\r\n\r\n        <Modal show={this.state.show} onHide={this.closeModal}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>\r\n              {newChild[languageCode]}\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <ListGroup flush>\r\n              <ListGroupItem className=\"p-3\">\r\n                <Col>\r\n                  <Row\r\n                    style={{\r\n                      justifyContent: \"center\",\r\n                      flexDirection: \"column\",\r\n                      alignItems: \"center\",\r\n                    }}\r\n                  >\r\n                    <div style={{\r\n                      width : \"110px\",\r\n                      height: \"110px\",\r\n                      backgroundImage: \"url(\" + this.state.educandoFoto + \")\",\r\n                      backgroundPosition : \"center\",\r\n                      borderRadius: \"50%\",\r\n                      backgroundSize: \"cover\",\r\n                      backgroundRepeat: \"no-repeat\"\r\n                    }}>\r\n                    </div>\r\n                  </Row>\r\n                  <div style={{ margin: \"10px\" }} />\r\n                  <Row\r\n                    style={{\r\n                      justifyContent: \"center\",\r\n                      flexDirection: \"column\",\r\n                      alignItems: \"center\",\r\n                    }}\r\n                  >\r\n                    <Row style={{justifyContent: \"center\", alignItems: \"center\", marginBottom: \"5px\"}}>\r\n                      <Button\r\n                        size=\"sm\"\r\n                        theme=\"light\"\r\n                        id=\"add-photo-button-new-child\"\r\n                        disabled={this.state.onCreateButtonDisabled}\r\n                      >\r\n                        <label htmlFor=\"file-upload-input\" style={{cursor: \"pointer\", padding:\"0px\", margin : \"0px\"}}>\r\n                          <span className=\"material-icons md-24\">add_a_photo</span>\r\n                        </label>\r\n                      </Button>\r\n                      <input\r\n                        id=\"file-upload-input\"\r\n                        type=\"file\"\r\n                        accept=\"image/png, image/jpeg\"\r\n                        style={{display: \"none\", margin: \"0px\"}}\r\n                        onChange={this.handleChangePhoto}\r\n                        disabled={this.state.disabled ? \"disabled\" : \"\"}/>\r\n                    </Row>\r\n                  </Row>\r\n\r\n                  <Form>\r\n                    <FormGroup>\r\n                      <label htmlFor=\"childName\">\r\n                        {studentsParameters.NAME[languageCode]}\r\n                      </label>\r\n                      <FormInput\r\n                        id=\"childName\"\r\n                        type=\"text\"\r\n                        name={studentsParameters.NAME[languageCode]}\r\n                        placeholder=\"\"\r\n                        value={this.state.educando[studentsParameters.NAME[languageCode]]}\r\n                        onChange={this.handleChangeParam}\r\n                        invalid={this.state.feedbacks[studentsParameters.NAME[languageCode]]}\r\n                        required\r\n                        disabled={this.state.disabled ? \"disabled\" : \"\"}\r\n                      />\r\n                      <FormFeedback\r\n                        id=\"childNameFeedback\"\r\n                        valid={false}\r\n                        style={{ display: \"none\" }}\r\n                      >\r\n                        {fillRequiredFieldMessage[languageCode]}\r\n                      </FormFeedback>\r\n                    </FormGroup>\r\n\r\n                    <FormGroup>\r\n                      <label htmlFor=\"childSchoolYear\">\r\n                        {studentsParameters.SCHOOL_YEAR[languageCode]}\r\n                      </label>\r\n                      <FormInput\r\n                        id=\"childSchoolYear\"\r\n                        type=\"number\"\r\n                        name={studentsParameters.SCHOOL_YEAR[languageCode]}\r\n                        placeholder=\"\"\r\n                        value={this.state.educando[studentsParameters.SCHOOL_YEAR[languageCode]]}\r\n                        onChange={this.handleChangeParam}\r\n                        invalid={this.state.feedbacks[studentsParameters.SCHOOL_YEAR[languageCode]]}\r\n                        required\r\n                        disabled={this.state.disabled ? \"disabled\" : \"\"}\r\n                      />\r\n                      <FormFeedback\r\n                        id=\"childSchoolYearFeedback\"\r\n                        valid={false}\r\n                        style={{ display: \"none\" }}\r\n                      >\r\n                        {fillRequiredFieldMessage[languageCode]}\r\n                      </FormFeedback>\r\n                    </FormGroup>\r\n\r\n                    {this.renderExtra()}\r\n                  </Form>\r\n                </Col>\r\n              </ListGroupItem>\r\n            </ListGroup>\r\n          </Modal.Body>\r\n\r\n          <Modal.Footer\r\n            style={{ justifyContent: \"left\", flexDirection: \"column\" }}\r\n          >\r\n            <Button variant=\"primary\" onClick={this.addEducando} disabled={this.state.onCreateButtonDisabled}>\r\n              {submitChild[languageCode]}\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default NewEducandoModal;\r\n"]},"metadata":{},"sourceType":"module"}