{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\Ambiente de Trabalho\\\\Universidade\\\\Ano 3\\\\Semestre 2\\\\PI\\\\Projeto\\\\repos\\\\pi-assoc-pais\\\\develop\\\\src\\\\components\\\\cargos-page\\\\CargosPage.js\";\nimport React, { Component, Fragment } from \"react\";\nimport { Container, Row, Col, Button, Card, CardHeader, CardBody, FormInput } from \"shards-react\";\nimport ConfirmationDialog from \"../../components/dialog/ConfirmationDialog\";\nimport { toast, Bounce } from \"react-toastify\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { aceitarCargoPrompt } from \"../../utils/common_strings\";\nimport { sucessoGeral, erroUpdateCargos, confirmAceitarCargo } from \"../../utils/messages_strings\";\nimport { cargoDocKey, languageCode, parentsParameters, showToast, toastTypes } from \"../../utils/general_utils\";\nimport { firestore, firebase_auth, firebase, firebaseConfig, storageRef } from \"../../firebase-config\";\nimport PageTitle from \"../common/PageTitle\";\nimport CargosModal from \"./CargosModal\";\nimport { userLogOut } from \"../../firebase_scripts/profile_functions\";\n\nvar Cargos_Page = /*#__PURE__*/function (_Component) {\n  _inherits(Cargos_Page, _Component);\n\n  var _super = _createSuper(Cargos_Page);\n\n  function Cargos_Page(props) {\n    var _this;\n\n    _classCallCheck(this, Cargos_Page);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      redirect: null,\n      transitions: [],\n      email: \"\",\n      cargoIdAceitar: \"\",\n      dialogOpen: false,\n      blocking: false,\n      errors: {},\n      nome: null,\n      admin: null,\n      cargosCollection: {},\n      permissionChanged: false,\n      newCargo: \"\"\n    };\n    _this.componentDidMount = _this.componentDidMount.bind(_assertThisInitialized(_this));\n    _this.getTransitions = _this.getTransitions.bind(_assertThisInitialized(_this));\n    _this.aceitarSelectedCargo = _this.aceitarSelectedCargo.bind(_assertThisInitialized(_this));\n    _this.openAceitarCargoDialog = _this.openAceitarCargoDialog.bind(_assertThisInitialized(_this));\n    _this.closeDialog = _this.closeDialog.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Cargos_Page, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var this_ = this;\n      var currentUser = JSON.parse(window.localStorage.getItem(\"userDoc\"));\n      var project_id = firebaseConfig.projectId;\n      var uri = \"https://us-central1-\" + project_id + \".cloudfunctions.net/api/getCargos\";\n\n      var request = /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return fetch(uri).then(function (resp) {\n                    return resp.json();\n                  }) // Transform the data into json\n                  .then(function (data) {\n                    var cargosJSON = {};\n\n                    for (var i in data) {\n                      cargosJSON[data[i][cargoDocKey]] = data[i].admin;\n                    }\n\n                    this_.setState({\n                      cargosCollection: cargosJSON\n                    });\n                  }).catch(function (error) {});\n\n                case 2:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function request() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n\n      request();\n      /*// TODO: substituir pela cloud function\n      firestore.collection(\"cargos\").get()\n        .then( function(snapshot) {\n          let cargosJSON = {};\n            snapshot.forEach(function(doc) {\n              // doc.data() is never undefined for query doc snapshots\n              console.log(doc.id, \" => \", doc.data());\n              cargosJSON[doc.data()[cargoDocKey]] = doc.data().admin;\n            });\n             this_.setState({cargosCollection : cargosJSON});\n        }\n        );*/\n      //---------------------------------------------------------\n\n      if (currentUser != null) {\n        this.setState({\n          email: currentUser.Email\n        });\n        this_.getTransitions();\n      } else {\n        //Redirect to login\n        var redirect = /*#__PURE__*/React.createElement(Redirect, {\n          to: {\n            pathname: \"/\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 9\n          }\n        });\n        this.setState({\n          redirect: redirect\n        });\n      }\n    }\n  }, {\n    key: \"getTransitions\",\n    value: function getTransitions() {\n      var this_ = this;\n      var project_id = firebaseConfig.projectId;\n      var uri = \"https://us-central1-\" + project_id + \".cloudfunctions.net/api/getCargoTransitions\";\n\n      var request = /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n          return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  _context2.next = 2;\n                  return fetch(uri).then(function (resp) {\n                    return resp.json();\n                  }) // Transform the data into json\n                  .then(function (data) {\n                    this_.setState({\n                      transitions: data\n                    });\n                  }).catch(function (error) {});\n\n                case 2:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        return function request() {\n          return _ref2.apply(this, arguments);\n        };\n      }();\n\n      request();\n    }\n  }, {\n    key: \"openAceitarCargoDialog\",\n    value: function openAceitarCargoDialog(e) {\n      console.log(\"cargosCollection\");\n      console.log(this.state.cargosCollection);\n      var id = e.target.id;\n      var newCargo = e.target.value;\n      this.setState({\n        newCargo: newCargo\n      });\n      var newCargoAdmin = this.state.cargosCollection[newCargo];\n      var currentUserAdmin = JSON.parse(window.localStorage.getItem(\"userDoc\"))[parentsParameters.ADMIN[languageCode]];\n\n      if (newCargoAdmin !== currentUserAdmin) {\n        this.setState({\n          permissionChanged: true\n        });\n      } else {\n        this.setState({\n          permissionChanged: false\n        });\n      }\n\n      this.setState({\n        cargoIdAceitar: id\n      });\n      this.setState({\n        dialogOpen: true\n      });\n    }\n  }, {\n    key: \"closeDialog\",\n    value: function closeDialog() {\n      this.setState({\n        dialogOpen: false\n      });\n    }\n  }, {\n    key: \"aceitarSelectedCargo\",\n    value: function aceitarSelectedCargo(confirmation) {\n      var cargoIdAceitar = this.state.cargoIdAceitar;\n      var this_ = this;\n      var project_id = firebaseConfig.projectId;\n      this_.closeDialog();\n\n      if (confirmation) {\n        var uri = \"https://us-central1-\" + project_id + \".cloudfunctions.net/api/executeCargoTransition?id=\" + cargoIdAceitar;\n\n        var request = /*#__PURE__*/function () {\n          var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n            return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n              while (1) {\n                switch (_context3.prev = _context3.next) {\n                  case 0:\n                    _context3.next = 2;\n                    return fetch(uri).then(function (data) {\n                      //console.log(data);\n                      this_.setState({\n                        cargoIdAceitar: \"\"\n                      }, function () {\n                        return this_.getTransitions();\n                      });\n                      showToast(sucessoGeral[languageCode], 5000, toastTypes.SUCCESS);\n\n                      if (this_.state.permissionChanged) {\n                        userLogOut(); // logout if user permission changed in order to not having denied access\n                      } else {\n                        var currentUser = JSON.parse(window.localStorage.getItem(\"userDoc\"));\n                        currentUser[parentsParameters.ROLE[languageCode]] = this_.state.newCargo;\n                        window.localStorage.setItem(\"userDoc\", JSON.stringify(currentUser));\n                        this_.setState({\n                          newCargo: \"\"\n                        }); // reset newCargo variable\n                      }\n                    }).catch(function (error) {\n                      showToast(erroUpdateCargos[languageCode], 5000, toastTypes.ERROR);\n                    });\n\n                  case 2:\n                  case \"end\":\n                    return _context3.stop();\n                }\n              }\n            }, _callee3);\n          }));\n\n          return function request() {\n            return _ref3.apply(this, arguments);\n          };\n        }();\n\n        request();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        style: {\n          margin: \"10px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(CargosModal, {\n        getTransitions: this.getTransitions,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Container, {\n        fluid: true,\n        className: \"main-content-container px-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        small: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        className: \"border-bottom\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        className: \"m-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 21\n        }\n      }, \"Transi\\xE7\\xF5es de Cargos\")), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        className: \"table table-striped\",\n        style: {\n          display: \"block\",\n          overflow: \"auto\",\n          whitespace: \"nowrap\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        className: \"bg-light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"border-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 27\n        }\n      }, \"Nome\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"border-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 27\n        }\n      }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"border-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 27\n        }\n      }, \"Novo Cargo\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"border-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 27\n        }\n      }, \"Aceite?\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"border-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 27\n        }\n      }, \"Data\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        className: \"border-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 27\n        }\n      }, \"Aceitar\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 23\n        }\n      }, this.state.transitions.map(function (membro, idx) {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 29\n          }\n        }, \" \", membro.nome ? membro.nome : \"-\"), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 29\n          }\n        }, \" \", membro.email ? membro.email : \"-\"), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 29\n          }\n        }, \" \", membro.cargo ? membro.cargo : \"-\"), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 29\n          }\n        }, \" \", membro.aceite == true ? \"Sim\" : \"Não\"), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 29\n          }\n        }, \" \", membro.data ? membro.data : \"-\"), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 29\n          }\n        }, \" \", membro.aceite == true ? /*#__PURE__*/React.createElement(Button, {\n          disabled: true,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 33\n          }\n        }, \" Aceitar \") : /*#__PURE__*/React.createElement(Button, {\n          disabled: !(membro.email == _this2.state.email),\n          id: membro.id,\n          value: membro.cargo,\n          onClick: _this2.openAceitarCargoDialog,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 33\n          }\n        }, \" \", \"Aceitar\", \" \")));\n      }))))))), this.state.redirect, this.state.dialogOpen ? /*#__PURE__*/React.createElement(ConfirmationDialog, {\n        open: this.state.dialogOpen,\n        result: this.aceitarSelectedCargo,\n        title: aceitarCargoPrompt[languageCode],\n        message: confirmAceitarCargo[languageCode],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 15\n        }\n      }) : null)));\n    }\n  }]);\n\n  return Cargos_Page;\n}(Component);\n\nexport default Cargos_Page;","map":{"version":3,"sources":["C:/Users/User/Desktop/Ambiente de Trabalho/Universidade/Ano 3/Semestre 2/PI/Projeto/repos/pi-assoc-pais/develop/src/components/cargos-page/CargosPage.js"],"names":["React","Component","Fragment","Container","Row","Col","Button","Card","CardHeader","CardBody","FormInput","ConfirmationDialog","toast","Bounce","Link","Redirect","aceitarCargoPrompt","sucessoGeral","erroUpdateCargos","confirmAceitarCargo","cargoDocKey","languageCode","parentsParameters","showToast","toastTypes","firestore","firebase_auth","firebase","firebaseConfig","storageRef","PageTitle","CargosModal","userLogOut","Cargos_Page","props","state","redirect","transitions","email","cargoIdAceitar","dialogOpen","blocking","errors","nome","admin","cargosCollection","permissionChanged","newCargo","componentDidMount","bind","getTransitions","aceitarSelectedCargo","openAceitarCargoDialog","closeDialog","this_","currentUser","JSON","parse","window","localStorage","getItem","project_id","projectId","uri","request","fetch","then","resp","json","data","cargosJSON","i","setState","catch","error","Email","pathname","e","console","log","id","target","value","newCargoAdmin","currentUserAdmin","ADMIN","confirmation","SUCCESS","ROLE","setItem","stringify","ERROR","margin","display","overflow","whitespace","map","membro","idx","cargo","aceite"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport {\n  Container,\n  Row,\n  Col,\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  FormInput,\n} from \"shards-react\";\nimport ConfirmationDialog from \"../../components/dialog/ConfirmationDialog\";\nimport { toast, Bounce } from \"react-toastify\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { aceitarCargoPrompt } from \"../../utils/common_strings\";\nimport {\n  sucessoGeral,\n  erroUpdateCargos,\n  confirmAceitarCargo,\n} from \"../../utils/messages_strings\";\nimport {\n  cargoDocKey,\n  languageCode,\n  parentsParameters,\n  showToast,\n  toastTypes\n} from \"../../utils/general_utils\";\n\nimport {\n  firestore,\n  firebase_auth,\n  firebase,\n  firebaseConfig, storageRef,\n} from \"../../firebase-config\";\nimport PageTitle from \"../common/PageTitle\";\nimport CargosModal from \"./CargosModal\";\nimport {userLogOut} from \"../../firebase_scripts/profile_functions\";\n\nclass Cargos_Page extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      redirect: null,\n      transitions: [],\n      email: \"\",\n      cargoIdAceitar: \"\",\n      dialogOpen: false,\n\n      blocking: false,\n      errors: {},\n      nome: null,\n      admin: null,\n      cargosCollection: {},\n      permissionChanged : false,\n      newCargo : \"\"\n    };\n\n    this.componentDidMount = this.componentDidMount.bind(this);\n    this.getTransitions = this.getTransitions.bind(this);\n    this.aceitarSelectedCargo = this.aceitarSelectedCargo.bind(this);\n    this.openAceitarCargoDialog = this.openAceitarCargoDialog.bind(this);\n    this.closeDialog = this.closeDialog.bind(this);\n  }\n\n  componentDidMount() {\n    const this_ = this;\n    var currentUser = JSON.parse(window.localStorage.getItem(\"userDoc\"));\n\n    const project_id = firebaseConfig.projectId;\n\n    let uri =\n      \"https://us-central1-\" +\n      project_id +\n      \".cloudfunctions.net/api/getCargos\";\n\n    const request = async () => {\n      await fetch(uri)\n        .then((resp) => resp.json()) // Transform the data into json\n        .then(function (data) {\n          let cargosJSON = {};\n          for(let i in data){\n            cargosJSON[data[i][cargoDocKey]] = data[i].admin;\n          }\n          this_.setState({cargosCollection : cargosJSON});\n        })\n        .catch(function (error) {});\n    };\n\n    request();\n\n    /*// TODO: substituir pela cloud function\n    firestore.collection(\"cargos\").get()\n      .then( function(snapshot) {\n        let cargosJSON = {};\n          snapshot.forEach(function(doc) {\n            // doc.data() is never undefined for query doc snapshots\n            console.log(doc.id, \" => \", doc.data());\n            cargosJSON[doc.data()[cargoDocKey]] = doc.data().admin;\n          });\n\n          this_.setState({cargosCollection : cargosJSON});\n      }\n      );*/\n\n    //---------------------------------------------------------\n\n    if (currentUser != null) {\n      this.setState({ email: currentUser.Email });\n      this_.getTransitions();\n    } else {\n      //Redirect to login\n      var redirect = (\n        <Redirect\n          to={{\n            pathname: \"/\",\n          }}\n        />\n      );\n      this.setState({ redirect: redirect });\n    }\n  }\n\n  getTransitions() {\n    const this_ = this;\n    const project_id = firebaseConfig.projectId;\n\n    let uri =\n      \"https://us-central1-\" +\n      project_id +\n      \".cloudfunctions.net/api/getCargoTransitions\";\n\n    const request = async () => {\n      await fetch(uri)\n        .then((resp) => resp.json()) // Transform the data into json\n        .then(function (data) {\n          this_.setState({ transitions: data });\n        })\n        .catch(function (error) {});\n    };\n\n    request();\n\n  }\n\n  openAceitarCargoDialog(e) {\n    console.log(\"cargosCollection\");\n    console.log(this.state.cargosCollection);\n    const id = e.target.id;\n    const newCargo = e.target.value;\n    this.setState({newCargo : newCargo});\n    const newCargoAdmin = this.state.cargosCollection[newCargo];\n    const currentUserAdmin = (JSON.parse(window.localStorage.getItem(\"userDoc\")))[parentsParameters.ADMIN[languageCode]];\n\n    if(newCargoAdmin !== currentUserAdmin){\n      this.setState({permissionChanged : true});\n    }\n    else{\n      this.setState({permissionChanged : false});\n    }\n\n    this.setState({ cargoIdAceitar: id });\n    this.setState({ dialogOpen: true });\n  }\n\n  closeDialog() {\n    this.setState({ dialogOpen: false });\n  }\n\n  aceitarSelectedCargo(confirmation) {\n    const { cargoIdAceitar } = this.state;\n    const this_ = this;\n    const project_id = firebaseConfig.projectId;\n    this_.closeDialog();\n\n    if (confirmation) {\n      let uri =\n        \"https://us-central1-\" +\n        project_id +\n        \".cloudfunctions.net/api/executeCargoTransition?id=\" +\n        cargoIdAceitar;\n\n      const request = async () => {\n        await fetch(uri)\n          .then(function (data) {\n            //console.log(data);\n            this_.setState({ cargoIdAceitar: \"\" }, () =>\n              this_.getTransitions()\n            );\n            showToast(sucessoGeral[languageCode], 5000, toastTypes.SUCCESS);\n            if(this_.state.permissionChanged){\n              userLogOut(); // logout if user permission changed in order to not having denied access\n            }\n            else{\n              let currentUser = JSON.parse(window.localStorage.getItem(\"userDoc\"));\n              currentUser[parentsParameters.ROLE[languageCode]] = this_.state.newCargo;\n              window.localStorage.setItem(\"userDoc\", JSON.stringify(currentUser));\n              this_.setState({newCargo : \"\"}); // reset newCargo variable\n            }\n          })\n          .catch(function (error) {\n            showToast(erroUpdateCargos[languageCode], 5000, toastTypes.ERROR);\n          });\n      };\n\n      request();\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <Row style={{ margin: \"10px\" }}>\n          <CargosModal getTransitions={this.getTransitions} />\n        </Row>\n        <Row>\n          <Container fluid className=\"main-content-container px-4\">\n            {/* Default Light Table */}\n            <Row>\n              <Col>\n                <Card small>\n                  <CardHeader className=\"border-bottom\">\n                    <h6 className=\"m-0\">Transições de Cargos</h6>\n                  </CardHeader>\n                  <CardBody>\n                    <table\n                      className=\"table table-striped\"\n                      style={{\n                        display: \"block\",\n                        overflow: \"auto\",\n                        whitespace: \"nowrap\",\n                      }}\n                    >\n                      <thead className=\"bg-light\">\n                        <tr>\n                          <th scope=\"col\" className=\"border-0\">\n                            Nome\n                          </th>\n                          <th scope=\"col\" className=\"border-0\">\n                            Email\n                          </th>\n                          <th scope=\"col\" className=\"border-0\">\n                            Novo Cargo\n                          </th>\n                          <th scope=\"col\" className=\"border-0\">\n                            Aceite?\n                          </th>\n                          <th scope=\"col\" className=\"border-0\">\n                            Data\n                          </th>\n                          <th scope=\"col\" className=\"border-0\">\n                            Aceitar\n                          </th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {this.state.transitions.map((membro, idx) => (\n                          <tr>\n                            <td> {membro.nome ? membro.nome : \"-\"}</td>\n                            <td> {membro.email ? membro.email : \"-\"}</td>\n                            <td> {membro.cargo ? membro.cargo : \"-\"}</td>\n                            <td> {membro.aceite == true ? \"Sim\" : \"Não\"}</td>\n                            <td> {membro.data ? membro.data : \"-\"}</td>\n                            <td>\n                              {\" \"}\n                              {membro.aceite == true ? (\n                                <Button disabled={true}> Aceitar </Button>\n                              ) : (\n                                <Button\n                                  disabled={!(membro.email == this.state.email)}\n                                  id={membro.id}\n                                  value={membro.cargo}\n                                  onClick={this.openAceitarCargoDialog}\n                                >\n                                  {\" \"}\n                                  Aceitar{\" \"}\n                                </Button>\n                              )}\n                            </td>\n                          </tr>\n                        ))}\n                      </tbody>\n                    </table>\n                  </CardBody>\n                </Card>\n              </Col>\n            </Row>\n\n            {this.state.redirect}\n            {this.state.dialogOpen ? (\n              <ConfirmationDialog\n                open={this.state.dialogOpen}\n                result={this.aceitarSelectedCargo}\n                title={aceitarCargoPrompt[languageCode]}\n                message={confirmAceitarCargo[languageCode]}\n              />\n            ) : null}\n          </Container>\n        </Row>\n      </div>\n    );\n  }\n}\nexport default Cargos_Page;\n"]},"metadata":{},"sourceType":"module"}